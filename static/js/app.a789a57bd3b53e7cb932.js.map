{"version":3,"sources":["webpack:///src/components/PanelLeft.vue","webpack:///./src/components/PanelLeft.vue?4805","webpack:///./src/components/PanelLeft.vue","webpack:///./src/utils/util.js","webpack:///src/components/PanelMain.vue","webpack:///./src/components/PanelMain.vue?5786","webpack:///./src/components/PanelMain.vue","webpack:///src/components/PanelRight.vue","webpack:///./src/components/PanelRight.vue?6e2d","webpack:///./src/components/PanelRight.vue","webpack:///./src/App.vue?a65c","webpack:///./src/App.vue","webpack:///./src/components/Main.vue?1fe8","webpack:///./src/components/Main.vue","webpack:///src/components/Main.vue","webpack:///./src/router/index.js","webpack:///./src/main.js","webpack:///./src/wsEvents.js","webpack:///src/App.vue"],"names":["PanelLeft","name","props","data","tabSelected","selected","watch","userIndex","val","val2","this","$emit","methods","infoAct","sessionStorage","removeItem","window","location","reload","selectAllUser","user","index","i","usersList","parseInt","selectUser","userListSwitch","components_PanelLeft","render","_vm","_h","$createElement","_c","_self","attrs","id","staticClass","staticStyle","color","background-color","shape","size","_v","_s","userInfo","substr","trigger","placement","on","on-click","href","type","slot","_e","divided","display","placeholder","model","value","callback","$$v","expression","label","icon","_l","click","$event","class","group","count","unread","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__","PanelMain","user.content","_this","$nextTick","setTimeout","chatMain","$el","querySelector","scrollTop","scrollHeight","dateFormat","date","Date","y","getFullYear","MM","getMonth","d","getDate","h","getHours","m","getMinutes","s","getSeconds","sendMsg","msg","trim","uploadSuccess","response","file","fileList","fileUrl","uploadConfig","urlKey","fileName","lastIndexOf","ext","isPic","indexOf","toLowerCase","chatAct","face","e","face_show","f","currentTarget","innerHTML","msgBr","uploadUrl","url","showMembers","components_PanelMain","members","length","item","Object","keys","chat-mine","from","src","img","time","domProps","replace","target","filename","span","show-upload-list","on-success","action","mouseleave","nativeOn","mouseover","directives","rawName","rows","keyup","_k","keyCode","key","ctrlKey","shiftKey","altKey","metaKey","input","composing","float","margin-top","components_PanelRight","_m","selectortype_template_index_0_src_App","user-info","users-list","all-users-list","allUsersList","actionLeft","allUserSelected","userSelected","actionMain","title","closable","mask-closable","$set","ref","formLogin","rules","rule","inline","prop","formLoginSubmit","formPasswd","memberManage","width","columns","on-ok","memberSearchOk","memberSearch","margin-bottom","on-selection-change","memberSearchSelected","footer-hide","ws_status","margin","font-size","__vue_styles__","App","components_Main","Vue","use","Router","router","routes","path","component","resolve","require","__WEBPACK_AMD_REQUIRE_ARRAY__","apply","bind","catch","oe","config","productionTip","iView","transfer","select","arrow","arrowSize","el","components","template","defineProperty","update_user","$v","status","$Message","error","success","password","del","filter","u","push","user_list","online","searchData","join_group","group_name","users","content","create","unshift","passwd","show","passwd2","warn","code","ws","close","__WEBPACK_IMPORTED_MODULE_2__components_PanelLeft__","__WEBPACK_IMPORTED_MODULE_3__components_PanelMain__","PanelRight","__WEBPACK_IMPORTED_MODULE_4__components_PanelRight__","send","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify___default","to","last_time","$refs","validate","valid","wsUpdateUser","$data","wsMsg","evt","eval","setItem","afterLogin","_i","_top","splice","new_chat","_i2","_top2","__WEBPACK_IMPORTED_MODULE_5__wsEvents__","act","_this2","connectWs","vthis","wsStatus","WebSocket","wsUrl","onopen","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys___default","onmessage","onclose","console","debug","event","selection","created","_this3","getItem","setInterval","notification","document","m1","m2","computed","_this4","required","message","min","params","style","marginLeft","row"],"mappings":"6EAsEA,IAAAA,GACAC,KAAA,YAEAC,OAAA,mDAEAC,KALA,WAMA,OACAC,YAAA,OACAC,UAAA,IAIAC,OACAC,UAAA,SAAAC,EAAAC,GACAC,KAAAL,SAAAG,EACAE,KAAAC,MAAA,eAAAD,KAAAL,YAKAO,SACAC,QAAA,SAAAZ,GACA,OAAAA,GACA,aACAa,eAAAC,WAAA,QACAC,OAAAC,SAAAC,SACA,MAEA,mBAIA,aACAR,KAAAC,MAAA,aAAAV,KAKAkB,cAAA,SAAAC,EAAAC,GAGA,QAAAC,KAFAZ,KAAAN,YAAA,OAEAM,KAAAa,UACA,GAAAb,KAAAa,UAAAD,GAAArB,MAAAmB,EAAAnB,KAIA,OAHAS,KAAAL,SAAAmB,SAAAF,QAEAZ,KAAAC,MAAA,eAAAW,GAKAZ,KAAAC,MAAA,kBAAAS,GACAV,KAAAL,SAAA,GAGAoB,WAAA,SAAAL,EAAAC,GACAX,KAAAL,SAAAgB,EACAX,KAAAC,MAAA,yBAAAU,GACAX,KAAAC,MAAA,eAAAU,IAGAK,eAAA,SAAAL,OC/HeM,GADEC,OAFjB,WAA0B,IAAAC,EAAAnB,KAAaoB,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,OAAOC,GAAA,gBAAmBH,EAAA,OAAYI,YAAA,WAAqBJ,EAAA,UAAeK,aAAaC,MAAA,UAAAC,mBAAA,WAA+CL,OAAQM,MAAA,SAAAC,KAAA,WAAiCZ,EAAAa,GAAA,iBAAAb,EAAAc,GAAA,iBAAAd,EAAAe,SAAA,KAAAf,EAAAe,SAAA3C,KAAA4C,OAAA,yBAAAhB,EAAAa,GAAA,KAAAV,EAAA,OAAmJI,YAAA,SAAmBJ,EAAA,QAAAH,EAAAa,GAAAb,EAAAc,IAAAd,EAAAe,SAAA,KAAAf,EAAAe,SAAA3C,UAAA4B,EAAAa,GAAA,KAAAV,EAAA,YAAgHI,YAAA,WAAAF,OAA8BY,QAAA,QAAAC,UAAA,cAA2CC,IAAKC,WAAApB,EAAAhB,WAAwBmB,EAAA,KAAUE,OAAOgB,KAAA,wBAA6BlB,EAAA,QAAaE,OAAOiB,KAAA,UAAAV,KAAA,SAA8B,GAAAZ,EAAAa,GAAA,KAAAV,EAAA,gBAAqCE,OAAOkB,KAAA,QAAcA,KAAA,SAAavB,EAAAe,SAAA,QAAAZ,EAAA,gBAA4CE,OAAOjC,KAAA,kBAAuB4B,EAAAa,GAAA,UAAAb,EAAAwB,KAAAxB,EAAAa,GAAA,KAAAV,EAAA,gBAA2DE,OAAOoB,QAAA,GAAArD,KAAA,YAA8B4B,EAAAa,GAAA,UAAAb,EAAAa,GAAA,KAAAV,EAAA,gBAAkDE,OAAOjC,KAAA,YAAiB4B,EAAAa,GAAA,oBAAAb,EAAAa,GAAA,KAAAV,EAAA,OAAmDI,YAAA,SAAAC,aAAkCkB,QAAA,UAAkBvB,EAAA,SAAcE,OAAOiB,KAAA,OAAAK,YAAA,MAAgCxB,EAAA,QAAaE,OAAOkB,KAAA,UAAAD,KAAA,cAAqCC,KAAA,aAAgB,WAAAvB,EAAAa,GAAA,KAAAV,EAAA,QAAqCI,YAAA,eAAAY,IAA+BC,WAAApB,EAAAH,gBAA8B+B,OAAQC,MAAA7B,EAAA,YAAA8B,SAAA,SAAAC,GAAiD/B,EAAAzB,YAAAwD,GAAoBC,WAAA,iBAA2B7B,EAAA,WAAgBE,OAAO4B,MAAA,OAAA7D,KAAA,OAAA8D,KAAA,qBAAuD/B,EAAA,YAAAH,EAAAmC,GAAAnC,EAAA,mBAAAT,EAAAC,GAA6D,OAAAW,EAAA,OAAiBgB,IAAIiB,MAAA,SAAAC,GAAyB,OAAArC,EAAAJ,WAAAL,EAAAC,OAAqCW,EAAA,QAAamC,OAAO9D,SAAAwB,EAAAxB,UAAAgB,KAAkCW,EAAA,OAAYI,YAAA,SAAAC,aAAkCkB,QAAA,YAAoBnC,EAAAgD,MAAyDvC,EAAAwB,KAAzDrB,EAAA,UAA6BE,OAAO6B,KAAA,gBAAqBlC,EAAAa,GAAA,KAAAtB,EAAA,MAAAY,EAAA,UAAiDE,OAAO6B,KAAA,gBAAqBlC,EAAAwB,MAAA,GAAAxB,EAAAa,GAAA,KAAAV,EAAA,OAAqCK,aAAakB,QAAA,YAAoBvB,EAAA,QAAAH,EAAAa,GAAAb,EAAAc,GAAAvB,EAAAnB,WAAA4B,EAAAa,GAAA,KAAAV,EAAA,SAAmEE,OAAOkB,KAAA,QAAAiB,MAAAjD,EAAAkD,QAAmClB,KAAA,WAAc,SAAU,OAAAvB,EAAAa,GAAA,KAAAV,EAAA,WAAmCE,OAAO4B,MAAA,OAAA7D,KAAA,OAAA8D,KAAA,iBAAmD/B,EAAA,YAAAH,EAAAmC,GAAAnC,EAAA,sBAAAT,EAAAC,GAAgE,OAAAQ,EAAAe,SAAA3C,MAAAmB,EAAAnB,KAAA+B,EAAA,OAAkDgB,IAAIiB,MAAA,SAAAC,GAAyB,OAAArC,EAAAV,cAAAC,EAAAC,OAAwCW,EAAA,WAAcA,EAAA,OAAYI,YAAA,SAAAC,aAAkCkB,QAAA,YAAoBvB,EAAA,UAAeE,OAAO6B,KAAA,iBAAqB,GAAAlC,EAAAa,GAAA,KAAAV,EAAA,OAA4BK,aAAakB,QAAA,YAAoBvB,EAAA,QAAAH,EAAAa,GAAAb,EAAAc,GAAAvB,EAAAnB,WAAA4B,EAAAa,GAAA,KAAAV,EAAA,SAAmEE,OAAOkB,KAAA,QAAAiB,MAAAjD,EAAAkD,QAAmClB,KAAA,WAAc,OAAAvB,EAAAwB,OAAmB,gBAE/sFkB,oBCCjB,IAcAC,EAdyBC,EAAQ,OAcjCC,CACE1E,EACA2B,GATF,EAVA,SAAAgD,GACEF,EAAQ,SAaV,KAEA,MAUeG,EAAA,EAAAJ,EAAiB,kECzBjB,IC4FfK,GACA5E,KAAA,YAEAC,OAAA,mBAEAI,OACAwE,eADA,WACA,IAAAC,EAAArE,KACAA,KAAAsE,UAAA,WACAC,WAAA,WACA,IAAAC,EAAAH,EAAAI,IAAAC,cAAA,cACAF,EAAAG,UAAAH,EAAAI,cACA,QAKA1E,SACA2E,YD5GIA,WADW,SACC7B,GACR,IAAI8B,EAAO,IAAIC,KAAa,IAAR/B,GAChBgC,EAAIF,EAAKG,cACTC,EAAKJ,EAAKK,WAAa,EAC3BD,EAAKA,EAAK,GAAM,IAAMA,EAAMA,EAC5B,IAAIE,EAAIN,EAAKO,UACbD,EAAIA,EAAI,GAAM,IAAMA,EAAKA,EACzB,IAAIE,EAAIR,EAAKS,WACbD,EAAIA,EAAI,GAAM,IAAMA,EAAKA,EACzB,IAAIE,EAAIV,EAAKW,aACbD,EAAIA,EAAI,GAAM,IAAMA,EAAKA,EACzB,IAAIE,EAAIZ,EAAKa,aAEb,OAAOX,EAAI,IAAME,EAAK,IAAME,EAAI,IAAME,EAAI,IAAME,EAAI,KADpDE,EAAIA,EAAI,GAAM,IAAMA,EAAKA,KCgGjCb,WAEAe,QAHA,WAIA,IAAA5F,KAAA6F,IAAAC,SAEA9F,KAAAC,MAAA,UAAAD,KAAA6F,KAAApD,KAAA,QACAzC,KAAA6F,IAAA,KAGAE,cAAA,SAAAC,EAAAC,EAAAC,GACA,IAAAC,EAAAH,EAAAI,aAAAC,QACAC,EAAAL,EAAA1G,KAEAoB,EAAA2F,EAAAC,YAAA,KACAC,EAAAF,EAAAnE,OAAAxB,EAAA,GACA8F,GAAA,GACA,+DAAAC,QAAAF,EAAAG,iBACAF,GAAA,GAGAzG,KAAAC,MAAA,UAAAkG,GAAA1D,KAAAgE,EAAA,aAAAlH,KAAA+G,KAGAM,QAAA,SAAArH,GACA,OAAAA,GACA,mBACAS,KAAAC,MAAA,6BACA,MAEA,sBACAD,KAAAC,MAAA,aAAAV,KAKAsH,KAAA,SAAAC,GACA9G,KAAA+G,WAAA,EAEA,IAAAC,EAAAF,EAAAG,cAAAC,UACAlH,KAAA6F,IAAA7F,KAAA6F,IAAAmB,GAGAG,MA3CA,WA4CAnH,KAAA6F,KAAA,OAIApG,KAAA,WACA,OACA2H,UAAAhB,aAAAiB,IACAC,aAAA,EAEAzB,IAAA,GAEAkB,WAAA,KCjKeQ,GADErG,OAFjB,WAA0B,IAAAC,EAAAnB,KAAaoB,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,OAAOC,GAAA,gBAAmBH,EAAA,OAAYI,YAAA,eAAyBP,EAAAT,KAAAgD,MAAwDvC,EAAAwB,KAAxDrB,EAAA,QAA+BI,YAAA,eAAyBP,EAAAa,GAAAb,EAAAc,GAAAd,EAAAT,KAAAnB,SAAA4B,EAAAa,GAAA,KAAAb,EAAAT,KAAA,MAAAY,EAAA,OAAkFI,YAAA,eAAyBJ,EAAA,KAAUE,OAAOgB,KAAA,qBAAAT,KAAA,MAAwCO,IAAKiB,MAAA,SAAAC,GAAyBrC,EAAAmG,aAAAnG,EAAAmG,gBAAoDnG,EAAAa,GAAA,uBAAAb,EAAAc,GAAAd,EAAAT,KAAAnB,MAAA,IAAA4B,EAAAc,GAAAd,EAAAT,KAAA8G,QAAAC,QAAA,yBAAAtG,EAAAT,KAAA,MAAAY,EAAA,QAA+IE,OAAOiB,KAAA,oBAAyBtB,EAAAwB,MAAA,GAAAxB,EAAAa,GAAA,KAAAb,EAAA,YAAAG,EAAA,OAAuDI,YAAA,WAAsBP,EAAAmC,GAAAnC,EAAAT,KAAA,iBAAAgH,GAA0C,OAAApG,EAAA,OAAiBI,YAAA,SAAmBJ,EAAA,UAAeE,OAAO6B,KAAA,gBAAqBlC,EAAAa,GAAA,KAAAV,EAAA,KAAAH,EAAAa,GAAAb,EAAAc,GAAAyF,EAAAnI,UAAA,KAAsD,GAAA4B,EAAAwB,OAAAxB,EAAAwB,KAAAxB,EAAAa,GAAA,SAAA2F,OAAAC,KAAAzG,EAAAT,MAAA+G,OAAAnG,EAAA,YAAyFI,YAAA,WAAAF,OAA8BY,QAAA,QAAAC,UAAA,cAA2CC,IAAKC,WAAApB,EAAAyF,WAAwBtF,EAAA,KAAUE,OAAOgB,KAAA,wBAA6BlB,EAAA,QAAaE,OAAOiB,KAAA,UAAAV,KAAA,SAA8B,GAAAZ,EAAAa,GAAA,KAAAV,EAAA,gBAAqCE,OAAOkB,KAAA,QAAcA,KAAA,SAAapB,EAAA,gBAAqBE,OAAOjC,KAAA,qBAA0B4B,EAAAa,GAAAb,EAAAc,GAAAd,EAAAT,KAAAgD,MAAA,kBAAAvC,EAAAa,GAAA,KAAAV,EAAA,gBAAoFE,OAAOoB,QAAA,GAAArD,KAAA,kBAAoC4B,EAAAa,GAAAb,EAAAc,GAAAd,EAAAT,KAAAgD,MAAA,0BAAAvC,EAAAwB,MAAA,GAAAxB,EAAAa,GAAA,KAAAV,EAAA,OAAgGI,YAAA,cAAwBJ,EAAA,OAAYI,YAAA,cAAwBJ,EAAA,KAAAH,EAAAmC,GAAAnC,EAAAT,KAAA,iBAAAgH,GAAmD,OAAApG,EAAA,MAAgBmC,OAAOoE,YAAAH,EAAAI,OAAA3G,EAAAe,SAAA3C,QAAiD+B,EAAA,OAAYI,YAAA,cAAwBJ,EAAA,UAAeE,OAAOuG,IAAAL,EAAAM,IAAA3E,KAAA,gBAAoClC,EAAAa,GAAA,KAAAV,EAAA,KAAAA,EAAA,QAAiCI,YAAA,aAAuBP,EAAAa,GAAAb,EAAAc,GAAAyF,EAAAI,SAAAxG,EAAA,QAAyCI,YAAA,aAAuBP,EAAAa,GAAAb,EAAAc,GAAAd,EAAA0D,WAAA6C,EAAAO,aAAA,GAAA9G,EAAAa,GAAA,YAAA0F,EAAAjF,KAAAnB,EAAA,OAA+FI,YAAA,YAAAwG,UAAkChB,UAAA/F,EAAAc,GAAAyF,EAAA7B,IAAAsC,QAAA,oBAAuDhH,EAAAwB,KAAAxB,EAAAa,GAAA,YAAA0F,EAAAjF,KAAAnB,EAAA,OAAsDI,YAAA,cAAwB,QAAAgG,EAAAjF,KAAAnB,EAAA,KAAiCE,OAAOgB,KAAAkF,EAAA7B,IAAAuC,OAAA,YAAmC9G,EAAA,OAAYI,YAAA,OAAAF,OAA0BuG,IAAAL,EAAA7B,SAAgB1E,EAAAwB,KAAAxB,EAAAa,GAAA,cAAA0F,EAAAjF,KAAAnB,EAAA,KAAyDK,aAAaC,MAAA,SAAgBJ,OAAQgB,KAAAkF,EAAA7B,OAAiBvE,EAAA,QAAaE,OAAOiB,KAAA,UAAAV,KAAA,KAAAH,MAAA,aAAgDT,EAAAa,GAAA,KAAAV,EAAA,QAAAH,EAAAa,GAAAb,EAAAc,GAAAyF,EAAAW,cAAA,GAAAlH,EAAAwB,OAAAxB,EAAAwB,SAAmF,OAAAxB,EAAAa,GAAA,SAAA2F,OAAAC,KAAAzG,EAAAT,MAAA+G,OAAAnG,EAAA,OAAoEI,YAAA,gBAA0BJ,EAAA,OAAAA,EAAA,OAAsBE,OAAO8G,KAAA,OAAYhH,EAAA,UAAeE,OAAO+G,oBAAA,EAAAC,aAAArH,EAAA4E,cAAA0C,OAAAtH,EAAAiG,aAAgF9F,EAAA,QAAaE,OAAOiB,KAAA,UAAAV,KAAA,SAA8B,OAAAZ,EAAAa,GAAA,KAAAV,EAAA,OAAgCE,OAAO8G,KAAA,OAAYnH,EAAA,UAAAG,EAAA,OAA4BI,YAAA,WAAAY,IAA2BoG,WAAA,SAAAlF,GAA8BrC,EAAA4F,WAAA,MAAwBzF,EAAA,KAAAH,EAAAmC,GAAA,YAAA1C,GAAkC,OAAAU,EAAA,MAAgB4G,UAAUhB,UAAA/F,EAAAc,GAAA,aAAArB,GAAA,MAAyC0B,IAAKiB,MAAApC,EAAA0F,UAAoB,KAAA1F,EAAAwB,KAAAxB,EAAAa,GAAA,KAAAV,EAAA,QAAuCE,OAAOiB,KAAA,WAAAV,KAAA,MAA8B4G,UAAWC,UAAA,SAAApF,GAA6BrC,EAAA4F,WAAA,OAAuB,OAAA5F,EAAAa,GAAA,KAAAV,EAAA,OAAAA,EAAA,YAA+CuH,aAAatJ,KAAA,QAAAuJ,QAAA,UAAA9F,MAAA7B,EAAA,IAAAgC,WAAA,QAAgEzB,YAAA,YAAAF,OAAiCuH,KAAA,KAAWb,UAAWlF,MAAA7B,EAAA,KAAkBmB,IAAK0G,OAAA,SAAAxF,GAA0B,OAAAA,EAAAf,KAAAiE,QAAA,QAAAvF,EAAA8H,GAAAzF,EAAA0F,QAAA,WAAA1F,EAAA2F,IAAA,SAAsF,KAAe3F,EAAA4F,SAAA5F,EAAA6F,UAAA7F,EAAA8F,QAAA9F,EAAA+F,QAAmE,KAAepI,EAAAyE,WAAqB,SAAApC,GAAkB,OAAAA,EAAAf,KAAAiE,QAAA,QAAAvF,EAAA8H,GAAAzF,EAAA0F,QAAA,WAAA1F,EAAA2F,IAAA,SAAsF,KAAe3F,EAAA4F,QAAmCjI,EAAAgG,QAAf,OAAkCqC,MAAA,SAAAhG,GAA2BA,EAAA4E,OAAAqB,YAAsCtI,EAAA0E,IAAArC,EAAA4E,OAAApF,aAA8B7B,EAAAa,GAAA,KAAAV,EAAA,UAA6BK,aAAa+H,MAAA,QAAAC,aAAA,OAAmCnI,OAAQiB,KAAA,WAAiBH,IAAKiB,MAAA,SAAAC,GAAyB,OAAArC,EAAAyE,cAAuBzE,EAAAa,GAAA,uBAAAV,EAAA,QAA2CE,OAAOiB,KAAA,kBAAAV,KAAA,OAAoC,OAAAZ,EAAAwB,QAE3nIkB,oBCCjB,IAcAC,EAdyBC,EAAQ,OAcjCC,CACEG,EACAoD,GATF,EAVA,SAAAtD,GACEF,EAAQ,SAaV,KAEA,MAUeG,EAAA,EAAAJ,EAAiB,2CCnBhC,ICJe8F,GADE1I,OAFjB,WAA0BlB,KAAaqB,eAAbrB,KAAuCuB,MAAAD,GAAwB,OAA/DtB,KAA+D6J,GAAA,IAExEhG,iBADjB,WAAoC,IAAazC,EAAbpB,KAAaqB,eAA0BC,EAAvCtB,KAAuCuB,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,OAAOC,GAAA,iBAAoBH,EAAA,QAA3GtB,KAA2GgC,GAAA,qBCE/I,IAcA8B,EAdyBC,EAAQ,OAcjCC,EFTAzE,KAAA,aEWEqK,GATF,EAVA,SAAA3F,GACEF,EAAQ,SAaV,KAEA,MAUeG,EAAA,EAAAJ,EAAiB,4GCvBjBgG,GADE5I,OAFjB,WAA0B,IAAAC,EAAAnB,KAAaoB,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBK,aAAaE,mBAAA,QAA0BL,OAAQC,GAAA,SAAYH,EAAA,OAAYI,YAAA,YAAsBJ,EAAA,OAAYE,OAAO8G,KAAA,OAAYhH,EAAA,cAAmBE,OAAOuI,YAAA5I,EAAAe,SAAA8H,aAAA7I,EAAAN,UAAAoJ,iBAAA9I,EAAA+I,aAAArK,UAAAsB,EAAAtB,WAAgHyC,IAAK6H,WAAAhJ,EAAAgJ,WAAAC,gBAAAjJ,EAAAiJ,gBAAAC,aAAAlJ,EAAAkJ,iBAAmG,GAAAlJ,EAAAa,GAAA,KAAAV,EAAA,OAA4BE,OAAO8G,KAAA,QAAahH,EAAA,cAAmBE,OAAOd,KAAAS,EAAAT,KAAAwB,SAAAf,EAAAe,UAAwCI,IAAKgI,WAAAnJ,EAAAmJ,WAAA1E,QAAAzE,EAAAyE,YAAmD,OAAAzE,EAAAa,GAAA,KAAAV,EAAA,SAAkCE,OAAO+I,MAAA,MAAAC,UAAA,EAAAC,iBAAA,GAAqD1H,OAAQC,MAAA,IAAA2E,OAAAC,KAAAzG,EAAAe,UAAAuF,OAAAxE,SAAA,SAAAC,GAAwE/B,EAAAuJ,KAAA/C,OAAAC,KAAAzG,EAAAe,UAAA,eAAAgB,IAAyDC,WAAA,wCAAkD7B,EAAA,QAAaqJ,IAAA,YAAAnJ,OAAuBuB,MAAA5B,EAAAyJ,UAAAC,MAAA1J,EAAAyJ,UAAAE,KAAAC,OAAA,MAA8DzJ,EAAA,YAAiBE,OAAOwJ,KAAA,UAAe1J,EAAA,SAAcE,OAAOiB,KAAA,OAAAK,YAAA,YAAuCC,OAAQC,MAAA7B,EAAAyJ,UAAA,KAAA3H,SAAA,SAAAC,GAAoD/B,EAAAuJ,KAAAvJ,EAAAyJ,UAAA,OAAA1H,IAAqCC,WAAA,oBAA8B7B,EAAA,QAAaE,OAAOkB,KAAA,UAAAD,KAAA,sBAA6CC,KAAA,aAAgB,OAAAvB,EAAAa,GAAA,KAAAV,EAAA,YAAqCE,OAAOwJ,KAAA,cAAmB1J,EAAA,SAAcE,OAAOiB,KAAA,WAAAK,YAAA,YAA2CC,OAAQC,MAAA7B,EAAAyJ,UAAA,SAAA3H,SAAA,SAAAC,GAAwD/B,EAAAuJ,KAAAvJ,EAAAyJ,UAAA,WAAA1H,IAAyCC,WAAA,wBAAkC7B,EAAA,QAAaE,OAAOkB,KAAA,UAAAD,KAAA,oBAA2CC,KAAA,aAAgB,WAAAvB,EAAAa,GAAA,KAAAV,EAAA,OAAoCE,OAAOkB,KAAA,UAAgBA,KAAA,WAAepB,EAAA,UAAeE,OAAOO,KAAA,SAAeO,IAAKiB,MAAA,SAAAC,GAAyB,OAAArC,EAAA8J,gBAAA,iBAA0C9J,EAAAa,GAAA,gBAAAb,EAAAa,GAAA,KAAAV,EAAA,SAAiDE,OAAO+I,MAAA,OAAAC,UAAA,GAAgCzH,OAAQC,MAAA7B,EAAA+J,WAAA,KAAAjI,SAAA,SAAAC,GAAqD/B,EAAAuJ,KAAAvJ,EAAA+J,WAAA,OAAAhI,IAAsCC,WAAA,qBAA+B7B,EAAA,QAAaqJ,IAAA,aAAAnJ,OAAwBuB,MAAA5B,EAAA+J,WAAAL,MAAA1J,EAAA+J,WAAAJ,KAAAC,OAAA,MAAgEzJ,EAAA,YAAiBE,OAAOwJ,KAAA,YAAiB1J,EAAA,SAAcE,OAAOiB,KAAA,WAAAK,YAAA,OAAsCC,OAAQC,MAAA7B,EAAA+J,WAAA,OAAAjI,SAAA,SAAAC,GAAuD/B,EAAAuJ,KAAAvJ,EAAA+J,WAAA,SAAAhI,IAAwCC,WAAA,uBAAiC7B,EAAA,QAAaE,OAAOkB,KAAA,UAAAD,KAAA,oBAA2CC,KAAA,aAAgB,OAAAvB,EAAAa,GAAA,KAAAV,EAAA,YAAqCE,OAAOwJ,KAAA,aAAkB1J,EAAA,SAAcE,OAAOiB,KAAA,WAAAK,YAAA,OAAsCC,OAAQC,MAAA7B,EAAA+J,WAAA,QAAAjI,SAAA,SAAAC,GAAwD/B,EAAAuJ,KAAAvJ,EAAA+J,WAAA,UAAAhI,IAAyCC,WAAA,wBAAkC7B,EAAA,QAAaE,OAAOkB,KAAA,UAAAD,KAAA,oBAA2CC,KAAA,aAAgB,WAAAvB,EAAAa,GAAA,KAAAV,EAAA,OAAoCE,OAAOkB,KAAA,UAAgBA,KAAA,WAAepB,EAAA,UAAeE,OAAOO,KAAA,SAAeO,IAAKiB,MAAA,SAAAC,GAAyB,OAAArC,EAAA8J,gBAAA,kBAA2C9J,EAAAa,GAAA,gBAAAb,EAAAa,GAAA,KAAAV,EAAA,SAAiDE,OAAO+I,MAAA,QAAexH,OAAQC,MAAA7B,EAAAgK,aAAA,KAAAlI,SAAA,SAAAC,GAAuD/B,EAAAuJ,KAAAvJ,EAAAgK,aAAA,OAAAjI,IAAwCC,WAAA,uBAAiC7B,EAAA,QAAaqJ,IAAA,iBAAAnJ,OAA4BuB,MAAA5B,EAAAyJ,UAAAC,MAAA1J,EAAAyJ,UAAAE,KAAAC,OAAA,MAA8DzJ,EAAA,YAAiBE,OAAOwJ,KAAA,UAAe1J,EAAA,SAAcK,aAAayJ,MAAA,SAAgB5J,OAAQiB,KAAA,OAAAV,KAAA,UAAAe,YAAA,YAAwDC,OAAQC,MAAA7B,EAAAyJ,UAAA,KAAA3H,SAAA,SAAAC,GAAoD/B,EAAAuJ,KAAAvJ,EAAAyJ,UAAA,OAAA1H,IAAqCC,WAAA,oBAA8B7B,EAAA,QAAaE,OAAOkB,KAAA,UAAAD,KAAA,sBAA6CC,KAAA,aAAgB,OAAAvB,EAAAa,GAAA,KAAAV,EAAA,YAAqCE,OAAOwJ,KAAA,cAAmB1J,EAAA,SAAcK,aAAayJ,MAAA,SAAgB5J,OAAQiB,KAAA,WAAAV,KAAA,UAAAe,YAAA,YAA4DC,OAAQC,MAAA7B,EAAAyJ,UAAA,SAAA3H,SAAA,SAAAC,GAAwD/B,EAAAuJ,KAAAvJ,EAAAyJ,UAAA,WAAA1H,IAAyCC,WAAA,wBAAkC7B,EAAA,QAAaE,OAAOkB,KAAA,UAAAD,KAAA,oBAA2CC,KAAA,aAAgB,OAAAvB,EAAAa,GAAA,KAAAV,EAAA,YAAAA,EAAA,UAAkDE,OAAOiB,KAAA,UAAAV,KAAA,WAAkCO,IAAKiB,MAAA,SAAAC,GAAyB,OAAArC,EAAA8J,gBAAA,sBAA+C9J,EAAAa,GAAA,gBAAAb,EAAAa,GAAA,KAAAV,EAAA,SAAiDE,OAAOO,KAAA,QAAAsJ,QAAAlK,EAAAgK,aAAAE,QAAA5L,KAAA0B,EAAAgK,aAAA1L,SAAgF,GAAA0B,EAAAa,GAAA,KAAAV,EAAA,SAA8BE,OAAO+I,MAAA,QAAejI,IAAKgJ,QAAAnK,EAAAoK,gBAA2BxI,OAAQC,MAAA7B,EAAAqK,aAAA,KAAAvI,SAAA,SAAAC,GAAuD/B,EAAAuJ,KAAAvJ,EAAAqK,aAAA,OAAAtI,IAAwCC,WAAA,wBAAiChC,EAAAT,KAAAgD,MAAkQvC,EAAAwB,KAAlQrB,EAAA,SAAiCK,aAAa8J,gBAAA,OAAsBjK,OAAQsB,YAAA,eAA4BC,OAAQC,MAAA7B,EAAAqK,aAAA,WAAAvI,SAAA,SAAAC,GAA6D/B,EAAAuJ,KAAAvJ,EAAAqK,aAAA,aAAAtI,IAA8CC,WAAA,8BAAuChC,EAAAa,GAAA,KAAAV,EAAA,SAAoCE,OAAOO,KAAA,QAAAsJ,QAAAlK,EAAAqK,aAAAH,QAAA5L,KAAA0B,EAAAqK,aAAA/L,MAA+E6C,IAAKoJ,sBAAAvK,EAAAwK,yBAAgD,GAAAxK,EAAAa,GAAA,KAAAV,EAAA,SAA8BE,OAAOoK,eAAA,EAAApB,UAAA,EAAAC,iBAAA,EAAAW,MAAA,OAAwErI,OAAQC,MAAA7B,EAAA,UAAA8B,SAAA,SAAAC,GAA+C/B,EAAA0K,UAAA3I,GAAkBC,WAAA,eAAyB7B,EAAA,QAAAA,EAAA,QAAwBK,aAAaC,MAAA,UAAA8H,MAAA,OAAAoC,OAAA,iBAAAC,YAAA,UAA+E5K,EAAAa,GAAA,wBAEptK6B,oBCCjB,IASAmI,EAZA,SAAA/H,GACEF,EAAQ,SAgBVD,EAdyBC,EAAQ,OAcjCC,CACEiI,EAAA,EACAnC,GATF,EAWAkC,EAPA,KAEA,MAUe9H,EAAA,QAAAJ,EAAiB,oICvBjBoI,GADEhL,OAFjB,WAA0B,IAAaE,EAAbpB,KAAaqB,eAAkD,OAA/DrB,KAAuCuB,MAAAD,IAAAF,GAAwB,OAAiBM,YAAA,WAEzFmC,oBCFQE,EAAQ,OAcjCC,ECPAzE,KAAA,OACAE,KAFA,WAGA,OACAoG,IAAA,gCDMEqG,GATF,EAEA,KAEA,KAEA,MAUgC,QEnBhCC,UAAIC,IAAIC,KAEO,IAAAC,EAAA,IAAID,KACjBE,SAEIC,KAAM,IACNjN,KAAM,MACNkN,UAAW,SAAAC,GAAA,OAAWC,8CAAQ,IAAAC,GAAC7I,EAAA,SAAT,EAAA8I,MAAA,KAAAD,IAAAE,KAAA9M,OAAA+M,MAAAhJ,EAAAiJ,OAItBR,KAAM,SACNjN,KAAM,QACNkN,UAAWE,uBAAS5I,EAAA,UAATgJ,MAAAhJ,EAAAiJ,uCCTjBb,UAAIc,OAAOC,eAAgB,EAE3Bf,UAAIC,IAAIe,KACNC,UAAU,EACVrL,KAAM,QACNsL,QACIC,MAAO,oBACPC,UAAW,MAKjB,IAAIpB,WACFqB,GAAI,OACJlB,SACAmB,YAAcxB,eACdyB,SAAU,mECxBZ/F,OAAAgG,eAAAzJ,EAAA,cAAAlB,OAAA,IAAekB,EAAA,SACX0J,YADW,SACEC,EAAIhI,GACb,IAAMA,EAAIiI,OACN,OAAOD,EAAGE,SAASC,MAAMnI,EAAIA,KAQjC,GALAgI,EAAGE,SAASE,QAAQpI,EAAIA,KAExBgI,EAAGjD,UAAUlK,KAAO,GACpBmN,EAAGjD,UAAUsD,SAAW,GAEnBrI,EAAIpG,KAAO,CACZ,GAA6B,UAAjBoG,EAAIpG,KAAK0O,IAEjB,YADAN,EAAG1C,aAAa1L,KAAOoO,EAAG1C,aAAa1L,KAAK2O,OAAO,SAAAC,GAAA,OAAKA,EAAE9O,MAAQsG,EAAIpG,KAAKF,QAI/E,IAAM,IAAIqB,KAAKiN,EAAG1C,aAAa1L,KAC3B,GAAKoO,EAAG1C,aAAa1L,KAAKmB,GAAGrB,MAAQsG,EAAIpG,KAAKF,KAC1C,OAGRsO,EAAG1C,aAAa1L,KAAK6O,KAAMzI,EAAIpG,QAIvC8O,UA1BW,SA0BAV,EAAIhI,GACX,GAAwB,GAAnBA,EAAIpG,KAAKgI,OAEd,QAAoC,IAAxB5B,EAAIpG,KAAK,GAAG+O,OACpBX,EAAG3D,aAAerE,EAAIpG,UAItB,GAFAoO,EAAG1C,aAAa1L,KAAOoG,EAAIpG,UAEE,IAAlBoO,EAAGnN,KAAKgD,MAAwB,CACvC,IAAI+K,KACJ,GAAKZ,EAAGnN,KAAKgD,MAAQ,CAEjB,IAAI8D,KACJ,IAAM,IAAI5G,KAAKiN,EAAGnN,KAAK8G,QACnBA,EAAQ8G,KAAKT,EAAGnN,KAAK8G,QAAQ5G,GAAGrB,MAEpC,IAAM,IAAIqB,KAAKiF,EAAIpG,KACV+H,EAAQd,QAASb,EAAIpG,KAAKmB,GAAGrB,OAAU,GAC5CkP,EAAWH,KAAKzI,EAAIpG,KAAKmB,SAG7B,IAAM,IAAIA,KAAKiF,EAAIpG,KACVoG,EAAIpG,KAAKmB,GAAGrB,MAAQsO,EAAGnN,KAAKnB,MAAQsG,EAAIpG,KAAKmB,GAAGrB,MAAQsO,EAAG3L,SAAS3C,MAEzEkP,EAAWH,KAAKzI,EAAIpG,KAAKmB,IAIjCiN,EAAGrC,aAAa/L,KAAOgP,IASnCC,WA/DW,SA+DCb,EAAIhI,GACZ,GAAmB,GAAdA,EAAIiI,OACL,OAAOD,EAAGE,SAASC,MAAMnI,EAAIA,KAGjC,IAAInC,GACAnE,KAAQsG,EAAI8I,WACZ3G,IAAO,GACPpE,OAAU,EACV4D,QAAY3B,EAAI+I,MAChBlL,OAAS,EACTmL,YAGJ,GAAKhJ,EAAIiJ,QAGL,GAFAjB,EAAGhN,UAAUkO,QAASrL,GAEjBmC,EAAIiC,MAAQ+F,EAAG3L,SAAS3C,KAAO,CAChC,GAAqB,GAAhBsO,EAAGhO,UAEJ,YADAgO,EAAGxD,aAAa,GAGpBwD,EAAGhO,UAAY,OAEhB,CACH,IAAM,IAAIe,KAAKiN,EAAGhN,UACd,GAAKgN,EAAGhN,UAAUD,GAAG8C,OAASmK,EAAGhN,UAAUD,GAAGrB,MAAQsG,EAAI8I,WAEtD,YADAd,EAAGhN,UAAUD,GAAG4G,QAAU3B,EAAI+I,OAKtCf,EAAGhN,UAAUkO,QAASrL,GAGvBmC,EAAIiC,MAAQ+F,EAAG3L,SAAS3C,WAAgC,IAAjBsO,EAAGnN,KAAKnB,OAC9CsO,EAAGhO,WAAa,IAIxBmP,OAvGW,SAuGHnB,EAAIhI,GACR,IAAMA,EAAIiI,OACN,OAAOD,EAAGE,SAASC,MAAMnI,EAAIA,KAGjCgI,EAAGE,SAASE,QAAQpI,EAAIA,KACxBgI,EAAG3C,WAAW+D,MAAO,EACrBpB,EAAG3C,WAAW8D,OAAS,GACvBnB,EAAG3C,WAAWgE,QAAU,IAG5BC,KAlHW,SAkHLtB,EAAIhI,GAGN,OAFAgI,EAAGE,SAASC,MAAMnI,EAAIA,KAEbA,EAAIuJ,MACT,KAAK,EACLhP,eAAeC,WAAW,QAC1BwN,EAAG3L,YACH2L,EAAGwB,GAAGC,QAEN/K,WAAW,WACPjE,OAAOC,SAASC,UACjB,k6BCvBfuD,oBAAA,QAEAG,oBAAA,GACA3E,KAAA,MACAkO,YACAnO,UAAAiQ,oDAAA,EACApL,UAAAqL,oDAAA,EACAC,WAAAC,qDAAA,GAGAxP,SACAmK,aAAA,SAAA1J,GACAA,EAAA,GAAAA,EAAAX,KAAAa,UAAA4G,OACAzH,KAAAU,SAGAV,KAAAU,KAAAV,KAAAa,UAAAF,GAGAX,KAAAqP,GAAAM,KAAAC,8EAAAnN,KAAA,WAAAiB,MAAA1D,KAAAU,KAAAgD,MAAAoE,KAAA9H,KAAAU,KAAAnB,KAAAsQ,GAAA7P,KAAAkC,SAAA3C,QAEAS,KAAAU,KAAAkD,OAAA,GACA5D,KAAAqP,GAAAM,KAAAC,8EAAAnN,KAAA,YAAAqF,KAAA9H,KAAAU,KAAAnB,KAAAsQ,GAAA7P,KAAAkC,SAAA3C,QAGAS,KAAAU,KAAAkD,OAAA,IAGAwG,gBAAA,SAAA1J,GAIAV,KAAAa,UAAAkO,SACAxP,KAAAmB,EAAAnB,KACAmE,OAAA,EACAE,OAAA,EACAkM,UAAA,WACAjB,aAEA7O,KAAAU,KAAAV,KAAAa,UAAA,IAGAoK,gBAhCA,SAgCA1L,GAAA,IAAA8E,EAAArE,KACAA,KAAA+P,MAAAxQ,GAAAyQ,SAAA,SAAAC,GACA,GAAAA,EACA,OAAA1Q,GACA,gBACA,IAAAE,GACAgD,KAAA,QACAlD,KAAA8E,EAAAuG,UAAAlK,KACAsO,OAAA3K,EAAAuG,UAAAsD,UAEA7J,EAAAgL,GAAAM,KAAAC,6EAAAnQ,IACA,MAEA,qBACAA,GACAgD,KAAA,cACAlD,KAAA8E,EAAAuG,UAAAlK,KACAsO,OAAA3K,EAAAuG,UAAAsD,UAEA7J,EAAAgL,GAAAM,KAAAC,6EAAAnQ,IACA,MAEA,iBACAA,GACAgD,KAAA,SACAuM,OAAA3K,EAAA6G,WAAA8D,OACAE,QAAA7K,EAAA6G,WAAAgE,QACA3P,KAAA8E,EAAAnC,SAAA3C,MAEA8E,EAAAgL,GAAAM,KAAAC,6EAAAnQ,QAOAyQ,aApEA,SAoEAC,KAIAC,MAxEA,SAAAA,MAwEAC,KACA,IAAAxK,IAAAyK,KAAA,IAAAD,IAAA5Q,KAAA,KACA,OAAAoG,IAAApD,MACA,YACA,IAAAoD,IAAAiI,OACA,OAAA9N,KAAA+N,SAAAC,MAAAnI,SAGA7F,KAAA+N,SAAAE,QAAApI,SAEA7F,KAAA4K,UAAAlK,KAAA,GACAV,KAAA4K,UAAAsD,SAAA,GAEA,IAAAzO,KAAAoG,IAAApG,YACAA,KAAAuP,OAEAhP,KAAAkC,SAAAzC,KACAW,eAAAmQ,QAAA,OAAAX,6EAAAnQ,OAEAO,KAAAwQ,aACA,MAEA,kBACA,QAAA5P,KAAAiF,IAAApG,KACAoG,IAAApG,KAAAmB,GAAAiO,WAEA7O,KAAAa,UAAAgF,IAAApG,KACA,MAEA,eACAO,KAAAU,KAAAmO,QAAAhJ,IAAApG,KACA,MAEA,UACA,UACA,WACA,GAAAoG,IAAAiC,MAAA9H,KAAAkC,SAAA3C,KAEA,OAAAsG,IAAAgK,GAAAnJ,QAAA,KACA,GAAAb,IAAAgK,GAAA1N,OAAA,IAAAnC,KAAAU,KAAAnB,MACA,QAAAkR,MAAAzQ,KAAAa,UACA,GAAAb,KAAAa,UAAA4P,IAAA/M,OAAA1D,KAAAa,UAAA4P,IAAAlR,MAAAsG,IAAAgK,GAAA1N,OAAA,IACAnC,KAAAa,UAAA4P,IAAA7M,SAEA,IAAA8M,KAAA1Q,KAAAa,UAAA4P,IACAzQ,KAAAa,UAAA8P,OAAAF,GAAA,GACAzQ,KAAAa,UAAAkO,QAAA2B,MAEA1Q,KAAAH,WAAA,GAAAG,KAAAH,UAAA4Q,KACAzQ,KAAAH,WAAA,GAEA,YAIAG,KAAAU,KAAAmO,QAAAP,KAAAzI,UAIA,MAAAA,IAAA+K,SACA5Q,KAAAa,UAAAkO,SACAxP,KAAAsG,IAAAiC,KACAE,IAAA,GACAtE,OAAA,EACAE,OAAA,EACAkM,UAAAjK,IAAAoC,KACA4G,kBAEA,IAAA7O,KAAAU,KAAAnB,OACAS,KAAAH,WAAA,QAEA,GAAAgG,IAAAiC,MAAA9H,KAAAU,KAAAnB,MACA,QAAAsR,OAAA7Q,KAAAa,UACA,GAAAb,KAAAa,UAAAgQ,KAAAtR,MAAAsG,IAAAiC,KAAA,CACA9H,KAAAa,UAAAgQ,KAAAjN,SACA5D,KAAAa,UAAAgQ,KAAAf,UAAAjK,IAAAoC,KAEA,IAAA6I,MAAA9Q,KAAAa,UAAAgQ,KACA7Q,KAAAa,UAAA8P,OAAAE,IAAA,GACA7Q,KAAAa,UAAAkO,QAAA+B,OAEA9Q,KAAAH,WAAA,GAAAG,KAAAH,UAAAgR,MACA7Q,KAAAH,WAAA,GAEA,YAIAG,KAAAU,KAAAoP,UAAAjK,IAAAoC,KACAjI,KAAAU,KAAAmO,QAAAP,KAAAzI,UAGA7F,KAAAU,KAAAnB,MAAAsG,IAAAgK,IAAA7P,KAAAU,KAAAnB,MAAAsG,IAAAgK,GAAA1N,OAAA,KACAnC,KAAAU,KAAAoP,UAAAjK,IAAAoC,KACAjI,KAAAU,KAAAmO,QAAAP,KAAAzI,MAEA,MAEA,QACA,mBAAAkL,wCAAA,QAAAlL,IAAApD,OACwBsO,wCAAA,QAAxBlL,IAAApD,MAAAzC,KAAA6F,OAMAD,QAlLA,SAkLAC,EAAAW,GACA,IAAA/G,GACAgD,KAAA,MACAqF,KAAA9H,KAAAkC,SAAA3C,KACAsQ,GAAA7P,KAAAU,KAAAnB,KACAsG,MACAtG,KAAAS,KAAAkC,SAAA3C,MAQA,OAAAiH,EAAA/D,MACA,UAEA,MAEA,UACAhD,EAAAgD,KAAA,MACA,MAEA,WACAhD,EAAAgD,KAAA,OACAhD,EAAA4I,SAAA7B,EAAAjH,KAKAS,KAAAU,KAAAgD,QAAAjE,EAAAoQ,GAAA,IAAApQ,EAAAoQ,IACA7P,KAAAqP,GAAAM,KAAAC,6EAAAnQ,KAGA0K,WApNA,SAoNA6G,EAAAvR,GACA,OAAAuR,GACA,mBACAhR,KAAAqP,GAAAM,KAAAC,8EAAAnN,KAAA,eACAzC,KAAAmL,aAAA8D,MAAA,EACA,MAEA,aACAjP,KAAAkL,WAAA+D,MAAA,EACA,MAEA,gBACAjP,KAAAH,UAAAJ,IAKA+Q,WArOA,WAqOA,IAAAS,EAAAjR,KACAA,KAAAqP,GAAAM,KAAAC,8EAAAnN,KAAA,iBAEA8B,WAAA,WACA0M,EAAA5B,GAAAM,KAAAC,8EAAAnN,KAAA,YAAA+L,OAAA,MACA,MAGA0C,UA7OA,WA8OA,IAAAC,EAAAnR,MACA,GAAAA,KAAAoR,WACApR,KAAAqP,GAAA,IAAAgC,UAAAC,OACAtR,KAAAqP,GAAAkC,OAAA,WAGA,GAFAJ,EAAAC,SAAA,GAEAI,0EAAAL,EAAAjP,UAAAuF,OAAA,GACA,IAAAhI,GACAgD,KAAA,QACAlD,KAAA4R,EAAAjP,SAAA3C,MAEA4R,EAAA9B,GAAAM,KAAAC,6EAAAnQ,IAEA8E,WAAA,WACA4M,EAAAX,cACA,OAGAxQ,KAAAqP,GAAAoC,UAAAzR,KAAAoQ,MACApQ,KAAAqP,GAAAqC,QAAA,WACAC,QAAAC,MAAA,cACAT,EAAAC,UAAA,IAIA7M,WAAAvE,KAAAkR,UAAA,MAGA5G,WA1QA,SA0QAuH,EAAApS,GACA,OAAAoS,GACA,mBACA7R,KAAAqP,GAAAM,KAAAC,8EAAAnN,KAAA,eACAzC,KAAAwL,aAAAyD,MAAA,EACA,MAEA,sBACAjP,KAAAU,KAAAgD,MACA1D,KAAAqP,GAAAM,KAAAC,8EACAnN,KAAA,cACAqF,KAAA9H,KAAAkC,SAAA3C,KACAoP,WAAA3O,KAAAU,KAAAnB,QAGAS,KAAAqP,GAAAM,KAAAC,8EACAnN,KAAA,aACAqF,KAAA9H,KAAAkC,SAAA3C,KACAA,KAAAS,KAAAU,KAAAnB,QAIAS,KAAAa,UAAA8P,OAAA3Q,KAAAH,UAAA,GACAG,KAAAH,WAAA,IAMA8L,qBAvSA,SAuSAmG,GAEA,QAAAlR,KADAZ,KAAAwL,aAAA7L,YACAmS,EACA9R,KAAAwL,aAAA7L,SAAA2O,KAAAwD,EAAAlR,GAAArB,OAIAgM,eA9SA,WA+SA,MAAAvL,KAAAwL,aAAA7L,SAAA8H,OAAA,CAEA,IAAAkH,EAAA,GACAG,GAAA,EACA,GAAA9O,KAAAU,KAAAgD,MACAiL,EAAA3O,KAAAU,KAAAnB,KACAuP,GAAA,MACA,CACA,OAAA9O,KAAAwL,aAAAmD,WAEA,YADA3O,KAAA+N,SAAAC,MAAA,WAIAhO,KAAAwL,aAAA7L,SAAA2O,KAAAtO,KAAAU,KAAAnB,MACAS,KAAAwL,aAAA7L,SAAA2O,KAAAtO,KAAAkC,SAAA3C,MAEAoP,EAAA3O,KAAAwL,aAAAmD,WAEA3O,KAAAwL,aAAAmD,WAAA,GAGA,IAAAlP,GACAgD,KAAA,aACAqM,SACAhH,KAAA9H,KAAAkC,SAAA3C,KACAoP,aACAC,MAAA5O,KAAAwL,aAAA7L,UAEAK,KAAAqP,GAAAM,KAAAC,6EAAAnQ,OAIAsS,QAvVA,SAAAA,UAuVA,IAAAC,OAAAhS,KACAmR,MAAAnR,KAEAU,KAAAN,eAAA6R,QAAA,QACA,MAAAvR,OACAV,KAAAkC,SAAAoO,KAAA,IAAA5P,KAAA,MAIAV,KAAAkR,YASAgB,YAAA,WAIA,IAAAF,OAAAG,aAAA5H,QACAyH,OAAAG,aAAA5H,MAAA6H,SAAA1N,cAAA,SAAAwC,WAKA,GAFA8K,OAAAnR,UAAAuN,OAAA,SAAAC,GAAA,OAAAA,EAAAzK,OAAA,IAEA6D,OAKAuK,OAAAG,aAAA/P,SACAgQ,SAAA1N,cAAA,SAAAwC,UAAAmL,WAAAL,OAAAG,aAAA5H,MACAyH,OAAAG,aAAA/P,SAAA,IAEAgQ,SAAA1N,cAAA,SAAAwC,UAAAoL,WAAAN,OAAAG,aAAA5H,MACAyH,OAAAG,aAAA/P,SAAA,GATAgQ,SAAA1N,cAAA,SAAAwC,UAAA8K,OAAAG,aAAA5H,OAWA,MAGA3K,SAGA2S,UACA1G,UAAA,WACA,WAAA7L,KAAAoR,WAIA3R,KA3YA,WA2YA,IAAA+S,EAAAxS,KACA,OACAqP,GAAA,GACA+B,UAAA,EAEAxG,WACAlK,KAAA,GACAwN,SAAA,GAEApD,MACApK,OACA+R,UAAA,EAAAC,QAAA,SAAAtQ,QAAA,SAGA8L,WACAuE,UAAA,EAAAC,QAAA,QAAAtQ,QAAA,SACAK,KAAA,SAAAkQ,IAAA,EAAAD,QAAA,SAAAtQ,QAAA,WAKA8I,YACA+D,MAAA,EACAD,OAAA,GACAE,QAAA,GAEApE,MACAkE,SACAyD,UAAA,EAAAC,QAAA,SAAAtQ,QAAA,SAGA8M,UACAuD,UAAA,EAAAC,QAAA,SAAAtQ,QAAA,SACAK,KAAA,SAAAkQ,IAAA,EAAAD,QAAA,SAAAtQ,QAAA,WAKAF,YAIAgI,gBACArJ,aAsEAH,QACAb,WAAA,EAEAsL,cACA8D,MAAA,EACA5D,UACAd,MAAA,MAAApB,IAAA,SACAoB,MAAA,KAAApB,IAAA,MACAjI,OAAA,SAAAoE,EAAAsN,GACA,OAAAtN,EAAA,OAeAA,EAAA,UACAuN,OACAC,WAAA,OAEAtT,OACAiD,KAAA,QACAV,KAAA,SAEAO,IACAiB,MAAA,WAEAiP,EAAA5H,UAAAlK,KAAAkS,EAAAG,IAAAxT,QAGA,aAKAE,OACAF,KAAA,gBAIAiM,cACAyD,MAAA,EACA5D,UACA5I,KAAA,YAAA2I,MAAA,KACAb,MAAA,MAAApB,IAAA,SAGA1J,OAAAF,KAAA,eAEAoP,WAAA,GACAhP,aAGAwS,cACA/P,SAAA,EACAmI,MAAA","file":"static/js/app.a789a57bd3b53e7cb932.js","sourcesContent":["<template>\n<div id=\"panel-left\">\n    <div class=\"header\">\n        <Avatar style=\"color: #f8f8f9;background-color: #19be6b\" shape=\"square\" size=\"large\">\n            {{ typeof(userInfo.name) == 'string' ? userInfo.name.substr(0,1) : '' }}\n        </Avatar>\n        <div class=\"info\">\n            <span>{{ typeof(userInfo.name) ? userInfo.name : '请登录' }}</span>\n\n            <Dropdown trigger=\"click\" class=\"info-act\" placement=\"bottom-end\" @on-click=\"infoAct\">\n                <a href=\"javascript:void(0)\">\n                    <Icon type=\"md-menu\" size=\"26\" /></Icon>\n                </a>\n                <DropdownMenu slot=\"list\">\n                    <DropdownItem name=\"memberManage\" v-if=\"userInfo.manager\">人员管理</DropdownItem>\n                    <DropdownItem divided name=\"passwd\">修改密码</DropdownItem>\n                    <DropdownItem name=\"logout\">退出</DropdownItem>\n                </DropdownMenu>\n            </Dropdown>\n        </div>\n\n        <div class=\"search\" style=\"display: none;\">\n            <Input type=\"text\" placeholder=\"\">\n                <Icon type=\"ios-search\" slot=\"prepend\"></Icon>\n            </Input>\n        </div>\n    </div>\n\n    <Tabs class=\"userlist-tab\" v-model:value=\"tabSelected\" @on-click=\"userListSwitch\">\n        <TabPane label=\"会话列表\" name=\"tab1\" icon=\"ios-chatbubbles\">\n            <CellGroup>\n                <div v-for=\"(user, index) in usersList\" @click=\"selectUser(user, index)\">\n                <Cell :class=\"{selected : selected == index}\">\n                    <div class=\"avatar\" style=\"display: inline;\">\n                        <Avatar v-if=\"!user.group\" icon=\"ios-person\" />\n                        <Avatar v-if=\"user.group\" icon=\"ios-people\" />\n                        <!--Avatar>U</Avatar-->\n                    </div>\n                    <div class=\"\" style=\"display: inline;\">\n                        <span>{{ user.name }}</span>\n                    </div>\n\n                    <Badge v-bind:count=\"user.unread\" slot=\"extra\" />\n                </Cell>\n                </div>\n            </CellGroup>\n        </TabPane>\n        <TabPane label=\"人员列表\" name=\"tab2\" icon=\"ios-contact\">\n            <CellGroup>\n                <div v-if=\"userInfo.name != user.name\" v-for=\"(user, index) in allUsersList\" @click=\"selectAllUser(user, index)\">\n                <Cell class=\"\">\n                    <div class=\"avatar\" style=\"display: inline;\">\n                        <Avatar icon=\"ios-person\" />\n                        <!--Avatar v-if=\"user.online\" icon=\"ios-person\" style=\"background-color: #87d068;\" /-->\n                        <!--Avatar>U</Avatar-->\n                    </div>\n                    <div class=\"\" style=\"display: inline;\">\n                        <span>{{ user.name }}</span>\n                    </div>\n\n                    <Badge v-bind:count=\"user.unread\" slot=\"extra\" />\n                </Cell>\n                </div>\n            </CellGroup>\n        </TabPane>\n    </Tabs>\n</div>        \n</template>\n\n<script>\nexport default {\n    name: 'PanelLeft',\n\n    props: ['usersList', 'allUsersList', 'userInfo', 'userIndex'],\n\n    data () {\n        return {\n            tabSelected: 'tab1',\n            selected: -1,\n        }\n    },\n\n    watch: {\n        userIndex: function( val, val2 ) {\n            this.selected = val;\n            this.$emit('userSelected', this.selected);\n        }\n        \n    },\n\n    methods: {\n        infoAct: function(name){\n            switch ( name ) {\n                case 'logout':\n                    sessionStorage.removeItem('user');\n                    window.location.reload();\n                break;\n\n                case 'memberManage':\n                    this.$emit('actionLeft', name);\n                break;\n\n                case 'passwd':\n                    this.$emit('actionLeft', name);\n                break;\n            }\n        },\n\n        selectAllUser: function ( user, index ) {\n            this.tabSelected = 'tab1';\n            \n            for ( let i in this.usersList ) {\n                if ( this.usersList[i].name == user.name ) {\n                    this.selected = parseInt(i);\n                    \n                    this.$emit('userSelected', i);\n                    return ;\n                }\n            }\n            \n            this.$emit('allUserSelected', user);\n            this.selected = 0;\n        },\n\n        selectUser: function (user, index) {\n            this.selected = index;\n            this.$emit('actionLeft', 'userIndex', index);\n            this.$emit('userSelected', index);\n        },\n\n        userListSwitch: function ( index ) {\n            \n        }\n    }\n}\n</script>\n\n<style>\n#panel-left{\n    height: 100%;\n    background-color: #d9d9d9;\n    border-right: 1px #dcdee2 solid;\n}\n\n#panel-left .header {\n    padding: 17px 7px;\n    font-size: 16px;\n    margin: 0 10px;\n    /*border-bottom: 1px solid #989898;*/\n}\n#panel-left .header .info {\n    display: inline-block;\n}\n\n#panel-left .header .info-act{\n    position: absolute;\n    right: 10px;\n    top: 0;\n    margin-top: 25px;\n}\n\n.userlist-tab {\n    height: calc(100% - 74px);\n}\n\n.userlist-tab .ivu-tabs-nav{ width: 100%; }\n.userlist-tab .ivu-tabs-tab{ width: 50%; }\n.userlist-tab .ivu-tabs-tab .ivu-icon { font-size: 22px; width: 22px; height: 22px; margin-right: 1px; }\n\n.userlist-tab .ivu-tabs-bar{ margin-bottom: 0;}\n.userlist-tab .ivu-tabs-content{ height: 100%;}\n.userlist-tab .ivu-tabs-tabpane{ width: 100%; height: calc(100% - 36px); overflow: hidden; overflow-y: auto; }\n\n.userlist-tab .ivu-tabs-bar { \n    border-color: #96969a;\n    box-shadow: 0px -1px #cccdce;\n}\n\n#panel-left .search{\n    margin: 10px 10px;\n}\n\n#panel-left .ivu-cell.selected {\n    background-color: #f8f8f9;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/PanelLeft.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"panel-left\"}},[_c('div',{staticClass:\"header\"},[_c('Avatar',{staticStyle:{\"color\":\"#f8f8f9\",\"background-color\":\"#19be6b\"},attrs:{\"shape\":\"square\",\"size\":\"large\"}},[_vm._v(\"\\n            \"+_vm._s(typeof(_vm.userInfo.name) == 'string' ? _vm.userInfo.name.substr(0,1) : '')+\"\\n        \")]),_vm._v(\" \"),_c('div',{staticClass:\"info\"},[_c('span',[_vm._v(_vm._s(typeof(_vm.userInfo.name) ? _vm.userInfo.name : '请登录'))]),_vm._v(\" \"),_c('Dropdown',{staticClass:\"info-act\",attrs:{\"trigger\":\"click\",\"placement\":\"bottom-end\"},on:{\"on-click\":_vm.infoAct}},[_c('a',{attrs:{\"href\":\"javascript:void(0)\"}},[_c('Icon',{attrs:{\"type\":\"md-menu\",\"size\":\"26\"}})],1),_vm._v(\" \"),_c('DropdownMenu',{attrs:{\"slot\":\"list\"},slot:\"list\"},[(_vm.userInfo.manager)?_c('DropdownItem',{attrs:{\"name\":\"memberManage\"}},[_vm._v(\"人员管理\")]):_vm._e(),_vm._v(\" \"),_c('DropdownItem',{attrs:{\"divided\":\"\",\"name\":\"passwd\"}},[_vm._v(\"修改密码\")]),_vm._v(\" \"),_c('DropdownItem',{attrs:{\"name\":\"logout\"}},[_vm._v(\"退出\")])],1)],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"search\",staticStyle:{\"display\":\"none\"}},[_c('Input',{attrs:{\"type\":\"text\",\"placeholder\":\"\"}},[_c('Icon',{attrs:{\"slot\":\"prepend\",\"type\":\"ios-search\"},slot:\"prepend\"})],1)],1)],1),_vm._v(\" \"),_c('Tabs',{staticClass:\"userlist-tab\",on:{\"on-click\":_vm.userListSwitch},model:{value:(_vm.tabSelected),callback:function ($$v) {_vm.tabSelected=$$v},expression:\"tabSelected\"}},[_c('TabPane',{attrs:{\"label\":\"会话列表\",\"name\":\"tab1\",\"icon\":\"ios-chatbubbles\"}},[_c('CellGroup',_vm._l((_vm.usersList),function(user,index){return _c('div',{on:{\"click\":function($event){return _vm.selectUser(user, index)}}},[_c('Cell',{class:{selected : _vm.selected == index}},[_c('div',{staticClass:\"avatar\",staticStyle:{\"display\":\"inline\"}},[(!user.group)?_c('Avatar',{attrs:{\"icon\":\"ios-person\"}}):_vm._e(),_vm._v(\" \"),(user.group)?_c('Avatar',{attrs:{\"icon\":\"ios-people\"}}):_vm._e()],1),_vm._v(\" \"),_c('div',{staticStyle:{\"display\":\"inline\"}},[_c('span',[_vm._v(_vm._s(user.name))])]),_vm._v(\" \"),_c('Badge',{attrs:{\"slot\":\"extra\",\"count\":user.unread},slot:\"extra\"})],1)],1)}),0)],1),_vm._v(\" \"),_c('TabPane',{attrs:{\"label\":\"人员列表\",\"name\":\"tab2\",\"icon\":\"ios-contact\"}},[_c('CellGroup',_vm._l((_vm.allUsersList),function(user,index){return (_vm.userInfo.name != user.name)?_c('div',{on:{\"click\":function($event){return _vm.selectAllUser(user, index)}}},[_c('Cell',{},[_c('div',{staticClass:\"avatar\",staticStyle:{\"display\":\"inline\"}},[_c('Avatar',{attrs:{\"icon\":\"ios-person\"}})],1),_vm._v(\" \"),_c('div',{staticStyle:{\"display\":\"inline\"}},[_c('span',[_vm._v(_vm._s(user.name))])]),_vm._v(\" \"),_c('Badge',{attrs:{\"slot\":\"extra\",\"count\":user.unread},slot:\"extra\"})],1)],1):_vm._e()}),0)],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-69701ef9\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/PanelLeft.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-69701ef9\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./PanelLeft.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./PanelLeft.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./PanelLeft.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-69701ef9\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./PanelLeft.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/PanelLeft.vue\n// module id = null\n// module chunks = ","//Date对象转化为yyyy-MM-dd格式\r\nexport default {\r\n    dateFormat (value) {\r\n        let date = new Date(value * 1000);\r\n        let y = date.getFullYear();\r\n        let MM = date.getMonth() + 1;\r\n        MM = MM < 10 ? ('0' + MM) : MM;\r\n        let d = date.getDate();\r\n        d = d < 10 ? ('0' + d) : d;\r\n        let h = date.getHours();\r\n        h = h < 10 ? ('0' + h) : h;\r\n        let m = date.getMinutes();\r\n        m = m < 10 ? ('0' + m) : m;\r\n        let s = date.getSeconds();\r\n        s = s < 10 ? ('0' + s) : s;\r\n        return y + '-' + MM + '-' + d + ' ' + h + ':' + m + ':' + s;\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/utils/util.js","<template>\r\n<div id=\"panel-main\">\r\n    <div class=\"chat-title\">\r\n        <span class=\"users-list\" v-if=\"!user.group\">{{ user.name }}</span>\r\n        <div class=\"users-list\" v-if=\"user.group\">\r\n            <a href=\"javascript:void(0)\" size=\"26\" @click=\"showMembers = showMembers ? false : true;\">\r\n                {{ user.name }} {{ user.members.length }}人\r\n                <Icon type=\"ios-arrow-down\" v-if=\"user.group\" /></Icon>\r\n            </a>\r\n            <div class=\"members\" v-if=\"showMembers\">\r\n                <div class=\"user\" v-for=\"item in user.members\">\r\n                    <Avatar icon=\"ios-person\" />\r\n                    <p>{{item.name}}</p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <Dropdown class=\"chat-act\" trigger=\"click\" placement=\"bottom-end\" v-if=\"Object.keys(user).length !== 0\" @on-click=\"chatAct\">\r\n            <a href=\"javascript:void(0)\">\r\n                <Icon type=\"md-more\" size=\"26\" /></Icon>\r\n            </a>\r\n            <DropdownMenu slot=\"list\">\r\n                <!--DropdownItem>关闭通知</DropdownItem-->\r\n                <DropdownItem name=\"delConversation\">{{user.group ? '退出群聊' : '删除会话'}}</DropdownItem>\r\n                <DropdownItem divided name=\"memberSearch\">{{user.group ? '拉人入群' : '发起群聊'}}</DropdownItem>\r\n            </DropdownMenu>\r\n        </Dropdown>\r\n    </div>\r\n\r\n    <div class=\"chat-body\">\r\n        <div class=\"chat-main\">\r\n        <ul>\r\n            <li v-for=\"item in user.content\" :class=\"{ 'chat-mine' : item.from === userInfo.name }\">\r\n                <div class=\"chat-user\">\r\n                    <Avatar :src=\"item.img\" icon=\"ios-person\" />\r\n                    <p><span class=\"msg_from\">{{ item.from }}</span><span class=\"msg_time\">{{ dateFormat(item.time) }}</span></p>\r\n                </div>\r\n\r\n                <div class=\"chat-text\" v-if=\"item.type == 'txt'\" v-html=\"item.msg.replace(/\\n/g, '<br />')\">\r\n                </div>\r\n                \r\n                <div class=\"chat-text\" v-if=\"item.type != 'txt'\">\r\n                    <a :href=\"item.msg\" target=\"_blank\" v-if=\"item.type === 'img' \">\r\n                        <img class=\"timg\" :src=\"item.msg\" />\r\n                    </a>\r\n\r\n                    <a :href=\"item.msg\" style=\"color: white;\" v-if=\"item.type === 'file' \">\r\n                        <Icon type=\"md-copy\" size=\"40\" color=\"#515a6e\" />\r\n                        <span>{{ item.filename }}</span>\r\n                    </a> \r\n                </div>\r\n            </li>\r\n        </ul>\r\n        </div>\r\n    </div>\r\n    \r\n    <div class=\"chat-bottom\" v-if=\"Object.keys(user).length !== 0\">\r\n        <Row>\r\n            <Col span=\"2\">\r\n            <Upload\r\n                :show-upload-list=\"false\"\r\n                :on-success=\"uploadSuccess\"\r\n                v-bind:action=\"uploadUrl\">\r\n                <Icon type=\"md-copy\" size=\"26\" />\r\n            </Upload>\r\n            </Col>\r\n            <Col span=\"2\">\r\n                <div \r\n                    @mouseleave=\"face_show = false\"\r\n                    v-if=\"face_show\" class=\"face-box\">\r\n                    <ul>\r\n                        <li v-for=\"i in 20\" v-html=\"'&#'+ (128512+i)+';'\" @click=\"face\"></li>\r\n                    </ul>\r\n                </div>\r\n                <Icon \r\n                    @mouseover.native=\"face_show = true\"\r\n                    type=\"md-happy\" size=\"26\" />\r\n            </Col>\r\n        </Row>\r\n\r\n        <div>\r\n            <textarea class=\"ivu-input\" rows=\"3\" v-model=\"msg\" @keyup.enter.exact=\"sendMsg()\" @keyup.ctrl.enter=\"msgBr()\"></textarea>\r\n        </div>\r\n\r\n        <Button type=\"primary\" @click=\"sendMsg()\" style=\"float: right; margin-top: 5px;\">\r\n            发送 <Icon type=\"ios-paper-plane\" :size=\"14\" />\r\n        </Button>\r\n    </div>\r\n</div>        \r\n</template>\r\n\r\n<script>\r\nimport util from '../utils/util.js';\r\nexport default {\r\n    name: 'PanelMain',\r\n\r\n    props: ['user', 'userInfo'],\r\n\r\n    watch: {\r\n        'user.content'() {\r\n            this.$nextTick(() => {\r\n                setTimeout(() => {\r\n                    let chatMain = this.$el.querySelector('.chat-main');\r\n                    chatMain.scrollTop = chatMain.scrollHeight;\r\n                }, 15);\r\n            })\r\n        }\r\n    },\r\n\r\n    methods: {\r\n        dateFormat: util.dateFormat,\r\n\r\n        sendMsg(){\r\n            if ( this.msg.trim() == '') return;\r\n            \r\n            this.$emit('sendMsg', this.msg, {type: 'txt'});\r\n            this.msg = '';\r\n        },\r\n\r\n        uploadSuccess: function(response, file, fileList){\r\n            let fileUrl = response[uploadConfig.urlKey];\r\n            let fileName= file.name;\r\n\r\n            var index = fileName.lastIndexOf(\".\");\r\n            var ext   = fileName.substr(index+1);\r\n            var isPic = false;\r\n            if ( ['png', 'jpg', 'jpeg', 'bmp', 'gif', 'webp', 'psd', 'svg', 'tiff'].indexOf(ext.toLowerCase()) !== -1 ) {\r\n                isPic = true;\r\n            }\r\n\r\n            this.$emit('sendMsg', fileUrl, {type: isPic ? 'img' : 'file', name: fileName});\r\n        },\r\n\r\n        chatAct: function(name){\r\n            switch ( name ) {\r\n                case 'memberSearch':\r\n                    this.$emit('actionMain', 'memberSearch');\r\n                break;\r\n\r\n                case 'delConversation':\r\n                    this.$emit('actionMain', name);\r\n                break;\r\n            }\r\n        },\r\n\r\n        face: function(e){\r\n            this.face_show = false;\r\n\r\n            let f = e.currentTarget.innerHTML;\r\n            this.msg = this.msg + f;\r\n        },\r\n\r\n        msgBr() {\r\n            this.msg += \"\\n\";\r\n        }\r\n    },\r\n\r\n    data: function(){\r\n        return {\r\n            uploadUrl: uploadConfig.url,\r\n            showMembers: false,\r\n\r\n            msg: '',\r\n\r\n            face_show: false\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style>\r\n#panel-main{\r\n    height: 100%;\r\n}\r\n\r\n.chat-title, .chat-bottom{\r\n    top: 0;\r\n    position: absolute;\r\n    width: 100%;\r\n    background-color: #f8f8f9;\r\n    padding: 5px 10px;\r\n    height: 52px;\r\n    border-bottom: 1px #dcdee2 solid;\r\n    z-index: 2;\r\n}\r\n\r\n.chat-title .users-list{\r\n    line-height: 40px;\r\n    font-size: 16px;\r\n}\r\n.chat-title .users-list a{ font-size: 16px;}\r\n.chat-title .user{\r\n    width: 42px;\r\n    display: inline-block;\r\n    text-align: center;\r\n    margin: 10px;\r\n}\r\n\r\n.members { \r\n    position: absolute;\r\n    width: 100%;\r\n    left: 0;\r\n    background: #fff;\r\n}\r\n\r\n.chat-act{\r\n    position:absolute;\r\n    right: 10px;\r\n    top: 5px;\r\n    line-height: 42px;\r\n    float: right;\r\n}\r\n\r\n.chat-body{ height: 100%; background-color: #f8f8f9;}\r\n.chat-body>.chat-main {\r\n    padding: 67px 10px 170px 10px;\r\n    height: 100%;\r\n    overflow-y: auto;\r\n}\r\n.chat-body ul>li {\r\n    position: relative;\r\n    font-size: 0;\r\n    margin-bottom: 25px;\r\n    padding-left: 60px;\r\n    min-height: 68px;\r\n}\r\n.chat-body ul>li.chat-mine{\r\n    text-align: right;\r\n    padding-left: 0;\r\n    padding-right: 60px;\r\n}\r\n.chat-body ul>li span.msg_time{ margin: 0 10px;}\r\n.chat-body ul>li.chat-mine span.msg_from { float: right; }\r\n\r\n.chat-body ul>li .chat-user {\r\n    position: absolute;\r\n    left: 5px;\r\n    top: 0;\r\n}\r\n.chat-body ul>li.chat-mine .chat-user{\r\n    right: 5px;\r\n    left: auto;\r\n}\r\n.chat-body ul>li p{\r\n    position: absolute;\r\n    left: 60px;\r\n    top: -2px;\r\n    width: 500px;\r\n    line-height: 24px;\r\n    font-size: 12px;\r\n    white-space: nowrap;\r\n    color: #999;\r\n    text-align: left;\r\n    font-style: normal;\r\n}\r\n.chat-body ul>li.chat-mine p{\r\n    left: auto;\r\n    right: 60px;\r\n    text-align: right;\r\n}\r\n.chat-body .chat-text {\r\n    position: relative;\r\n    line-height: 22px;\r\n    top: 25px;\r\n    padding: 8px 15px;\r\n    background-color: #e2e2e2;\r\n    border-radius: 3px;\r\n    color: #333;\r\n    word-break: break-all;\r\n    max-width: 462px;\r\n    font-size: 15px;\r\n    display: inline-block;\r\n}\r\n.chat-body li.chat-mine .chat-text{\r\n    margin-left: 0;\r\n    text-align: left;\r\n    background-color: #5FB878;\r\n    color: #fff;\r\n}\r\n.chat-body .chat-text img {\r\n    max-width: 100%;\r\n    vertical-align: middle;\r\n}\r\n.chat-body .chat-text .timg {\r\n    max-height: 300px;\r\n}\r\n\r\n.chat-body .chat-text:after {\r\n    content: '';\r\n    position: absolute;\r\n    left: -10px;\r\n    top: 13px;\r\n    width: 0;\r\n    height: 0;\r\n    border-style: solid dashed dashed;\r\n    border-color: #e2e2e2 transparent transparent;\r\n    overflow: hidden;\r\n    border-width: 10px;\r\n}\r\n.chat-body li.chat-mine .chat-text:after {\r\n    left: auto; \r\n    right: -10px;\r\n    border-top-color: #5FB878;\r\n}\r\n\r\n.chat-bottom {\r\n    height: 170px;\r\n    border-top: 1px #dcdee2 solid;\r\n    border-bottom: 0;\r\n    left: 0;\r\n    bottom: 0;\r\n    top: auto;\r\n    padding-top: 0;\r\n}\r\n\r\n.chat-bottom .ivu-col{ line-height: 42px; text-align: center; cursor: pointer;}\r\n.chat-bottom textarea{  font-size: 16px;}\r\n\r\n.face-box{\r\n    border: 1px solid #dcdee2;\r\n    width: 202px;\r\n    height: 162px;\r\n    position: absolute;\r\n    bottom: 42px;\r\n    background: #fff;\r\n}\r\n.face-box li{\r\n    list-style: none;\r\n    width: 40px;\r\n    height: 40px;\r\n    font-size: 22px;\r\n    display: inline-block;\r\n    float: left;\r\n    cursor: pointer;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/PanelMain.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"panel-main\"}},[_c('div',{staticClass:\"chat-title\"},[(!_vm.user.group)?_c('span',{staticClass:\"users-list\"},[_vm._v(_vm._s(_vm.user.name))]):_vm._e(),_vm._v(\" \"),(_vm.user.group)?_c('div',{staticClass:\"users-list\"},[_c('a',{attrs:{\"href\":\"javascript:void(0)\",\"size\":\"26\"},on:{\"click\":function($event){_vm.showMembers = _vm.showMembers ? false : true;}}},[_vm._v(\"\\r\\n                \"+_vm._s(_vm.user.name)+\" \"+_vm._s(_vm.user.members.length)+\"人\\r\\n                \"),(_vm.user.group)?_c('Icon',{attrs:{\"type\":\"ios-arrow-down\"}}):_vm._e()],1),_vm._v(\" \"),(_vm.showMembers)?_c('div',{staticClass:\"members\"},_vm._l((_vm.user.members),function(item){return _c('div',{staticClass:\"user\"},[_c('Avatar',{attrs:{\"icon\":\"ios-person\"}}),_vm._v(\" \"),_c('p',[_vm._v(_vm._s(item.name))])],1)}),0):_vm._e()]):_vm._e(),_vm._v(\" \"),(Object.keys(_vm.user).length !== 0)?_c('Dropdown',{staticClass:\"chat-act\",attrs:{\"trigger\":\"click\",\"placement\":\"bottom-end\"},on:{\"on-click\":_vm.chatAct}},[_c('a',{attrs:{\"href\":\"javascript:void(0)\"}},[_c('Icon',{attrs:{\"type\":\"md-more\",\"size\":\"26\"}})],1),_vm._v(\" \"),_c('DropdownMenu',{attrs:{\"slot\":\"list\"},slot:\"list\"},[_c('DropdownItem',{attrs:{\"name\":\"delConversation\"}},[_vm._v(_vm._s(_vm.user.group ? '退出群聊' : '删除会话'))]),_vm._v(\" \"),_c('DropdownItem',{attrs:{\"divided\":\"\",\"name\":\"memberSearch\"}},[_vm._v(_vm._s(_vm.user.group ? '拉人入群' : '发起群聊'))])],1)],1):_vm._e()],1),_vm._v(\" \"),_c('div',{staticClass:\"chat-body\"},[_c('div',{staticClass:\"chat-main\"},[_c('ul',_vm._l((_vm.user.content),function(item){return _c('li',{class:{ 'chat-mine' : item.from === _vm.userInfo.name }},[_c('div',{staticClass:\"chat-user\"},[_c('Avatar',{attrs:{\"src\":item.img,\"icon\":\"ios-person\"}}),_vm._v(\" \"),_c('p',[_c('span',{staticClass:\"msg_from\"},[_vm._v(_vm._s(item.from))]),_c('span',{staticClass:\"msg_time\"},[_vm._v(_vm._s(_vm.dateFormat(item.time)))])])],1),_vm._v(\" \"),(item.type == 'txt')?_c('div',{staticClass:\"chat-text\",domProps:{\"innerHTML\":_vm._s(item.msg.replace(/\\n/g, '<br />'))}}):_vm._e(),_vm._v(\" \"),(item.type != 'txt')?_c('div',{staticClass:\"chat-text\"},[(item.type === 'img' )?_c('a',{attrs:{\"href\":item.msg,\"target\":\"_blank\"}},[_c('img',{staticClass:\"timg\",attrs:{\"src\":item.msg}})]):_vm._e(),_vm._v(\" \"),(item.type === 'file' )?_c('a',{staticStyle:{\"color\":\"white\"},attrs:{\"href\":item.msg}},[_c('Icon',{attrs:{\"type\":\"md-copy\",\"size\":\"40\",\"color\":\"#515a6e\"}}),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(item.filename))])],1):_vm._e()]):_vm._e()])}),0)])]),_vm._v(\" \"),(Object.keys(_vm.user).length !== 0)?_c('div',{staticClass:\"chat-bottom\"},[_c('Row',[_c('Col',{attrs:{\"span\":\"2\"}},[_c('Upload',{attrs:{\"show-upload-list\":false,\"on-success\":_vm.uploadSuccess,\"action\":_vm.uploadUrl}},[_c('Icon',{attrs:{\"type\":\"md-copy\",\"size\":\"26\"}})],1)],1),_vm._v(\" \"),_c('Col',{attrs:{\"span\":\"2\"}},[(_vm.face_show)?_c('div',{staticClass:\"face-box\",on:{\"mouseleave\":function($event){_vm.face_show = false}}},[_c('ul',_vm._l((20),function(i){return _c('li',{domProps:{\"innerHTML\":_vm._s('&#'+ (128512+i)+';')},on:{\"click\":_vm.face}})}),0)]):_vm._e(),_vm._v(\" \"),_c('Icon',{attrs:{\"type\":\"md-happy\",\"size\":\"26\"},nativeOn:{\"mouseover\":function($event){_vm.face_show = true}}})],1)],1),_vm._v(\" \"),_c('div',[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.msg),expression:\"msg\"}],staticClass:\"ivu-input\",attrs:{\"rows\":\"3\"},domProps:{\"value\":(_vm.msg)},on:{\"keyup\":[function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }if($event.ctrlKey||$event.shiftKey||$event.altKey||$event.metaKey){ return null; }return _vm.sendMsg()},function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }if(!$event.ctrlKey){ return null; }return _vm.msgBr()}],\"input\":function($event){if($event.target.composing){ return; }_vm.msg=$event.target.value}}})]),_vm._v(\" \"),_c('Button',{staticStyle:{\"float\":\"right\",\"margin-top\":\"5px\"},attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.sendMsg()}}},[_vm._v(\"\\r\\n            发送 \"),_c('Icon',{attrs:{\"type\":\"ios-paper-plane\",\"size\":14}})],1)],1):_vm._e()])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-03ee3e2d\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/PanelMain.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-03ee3e2d\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./PanelMain.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./PanelMain.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./PanelMain.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-03ee3e2d\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./PanelMain.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/PanelMain.vue\n// module id = null\n// module chunks = ","<template>\r\n<div id=\"panel-right\">\r\n    <span>Panel Left</span>\r\n</div>        \r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name: 'PanelLeft'\r\n}\r\n</script>\r\n\r\n<style>\r\n#panel-right{\r\n    height: 100%;\r\n    background-color: #d9d9d9;\r\n    border-left: 1px #dcdee2 solid;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/PanelRight.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"panel-right\"}},[_c('span',[_vm._v(\"Panel Left\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0ad5f6ff\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/PanelRight.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-0ad5f6ff\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./PanelRight.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./PanelRight.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./PanelRight.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0ad5f6ff\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./PanelRight.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/PanelRight.vue\n// module id = null\n// module chunks = ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"background-color\":\"#fff\"},attrs:{\"id\":\"app\"}},[_c('Row',{staticClass:\"wrapper\"},[_c('Col',{attrs:{\"span\":\"7\"}},[_c('panel-left',{attrs:{\"user-info\":_vm.userInfo,\"users-list\":_vm.usersList,\"all-users-list\":_vm.allUsersList,\"userIndex\":_vm.userIndex},on:{\"actionLeft\":_vm.actionLeft,\"allUserSelected\":_vm.allUserSelected,\"userSelected\":_vm.userSelected}})],1),_vm._v(\" \"),_c('Col',{attrs:{\"span\":\"17\"}},[_c('panel-main',{attrs:{\"user\":_vm.user,\"userInfo\":_vm.userInfo},on:{\"actionMain\":_vm.actionMain,\"sendMsg\":_vm.sendMsg}})],1)],1),_vm._v(\" \"),_c('Modal',{attrs:{\"title\":\"请登录\",\"closable\":false,\"mask-closable\":false},model:{value:(Object.keys(_vm.userInfo).length === 0),callback:function ($$v) {_vm.$set(Object.keys(_vm.userInfo), \"length === 0\", $$v)},expression:\"Object.keys(userInfo).length === 0\"}},[_c('Form',{ref:\"formLogin\",attrs:{\"model\":_vm.formLogin,\"rules\":_vm.formLogin.rule,\"inline\":\"\"}},[_c('FormItem',{attrs:{\"prop\":\"user\"}},[_c('Input',{attrs:{\"type\":\"text\",\"placeholder\":\"Username\"},model:{value:(_vm.formLogin.user),callback:function ($$v) {_vm.$set(_vm.formLogin, \"user\", $$v)},expression:\"formLogin.user\"}},[_c('Icon',{attrs:{\"slot\":\"prepend\",\"type\":\"ios-person-outline\"},slot:\"prepend\"})],1)],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"prop\":\"password\"}},[_c('Input',{attrs:{\"type\":\"password\",\"placeholder\":\"Password\"},model:{value:(_vm.formLogin.password),callback:function ($$v) {_vm.$set(_vm.formLogin, \"password\", $$v)},expression:\"formLogin.password\"}},[_c('Icon',{attrs:{\"slot\":\"prepend\",\"type\":\"ios-lock-outline\"},slot:\"prepend\"})],1)],1)],1),_vm._v(\" \"),_c('div',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('Button',{attrs:{\"size\":\"large\"},on:{\"click\":function($event){return _vm.formLoginSubmit('formLogin')}}},[_vm._v(\"登录\")])],1)],1),_vm._v(\" \"),_c('Modal',{attrs:{\"title\":\"密码修改\",\"closable\":false},model:{value:(_vm.formPasswd.show),callback:function ($$v) {_vm.$set(_vm.formPasswd, \"show\", $$v)},expression:\"formPasswd.show\"}},[_c('Form',{ref:\"formPasswd\",attrs:{\"model\":_vm.formPasswd,\"rules\":_vm.formPasswd.rule,\"inline\":\"\"}},[_c('FormItem',{attrs:{\"prop\":\"passwd\"}},[_c('Input',{attrs:{\"type\":\"password\",\"placeholder\":\"旧密码\"},model:{value:(_vm.formPasswd.passwd),callback:function ($$v) {_vm.$set(_vm.formPasswd, \"passwd\", $$v)},expression:\"formPasswd.passwd\"}},[_c('Icon',{attrs:{\"slot\":\"prepend\",\"type\":\"ios-lock-outline\"},slot:\"prepend\"})],1)],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"prop\":\"passwd2\"}},[_c('Input',{attrs:{\"type\":\"password\",\"placeholder\":\"新密码\"},model:{value:(_vm.formPasswd.passwd2),callback:function ($$v) {_vm.$set(_vm.formPasswd, \"passwd2\", $$v)},expression:\"formPasswd.passwd2\"}},[_c('Icon',{attrs:{\"slot\":\"prepend\",\"type\":\"ios-lock-outline\"},slot:\"prepend\"})],1)],1)],1),_vm._v(\" \"),_c('div',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('Button',{attrs:{\"size\":\"large\"},on:{\"click\":function($event){return _vm.formLoginSubmit('formPasswd')}}},[_vm._v(\"确定\")])],1)],1),_vm._v(\" \"),_c('Modal',{attrs:{\"title\":\"人员管理\"},model:{value:(_vm.memberManage.show),callback:function ($$v) {_vm.$set(_vm.memberManage, \"show\", $$v)},expression:\"memberManage.show\"}},[_c('Form',{ref:\"formUpdateUser\",attrs:{\"model\":_vm.formLogin,\"rules\":_vm.formLogin.rule,\"inline\":\"\"}},[_c('FormItem',{attrs:{\"prop\":\"user\"}},[_c('Input',{staticStyle:{\"width\":\"200px\"},attrs:{\"type\":\"text\",\"size\":\"default\",\"placeholder\":\"Username\"},model:{value:(_vm.formLogin.user),callback:function ($$v) {_vm.$set(_vm.formLogin, \"user\", $$v)},expression:\"formLogin.user\"}},[_c('Icon',{attrs:{\"slot\":\"prepend\",\"type\":\"ios-person-outline\"},slot:\"prepend\"})],1)],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"prop\":\"password\"}},[_c('Input',{staticStyle:{\"width\":\"190px\"},attrs:{\"type\":\"password\",\"size\":\"default\",\"placeholder\":\"Password\"},model:{value:(_vm.formLogin.password),callback:function ($$v) {_vm.$set(_vm.formLogin, \"password\", $$v)},expression:\"formLogin.password\"}},[_c('Icon',{attrs:{\"slot\":\"prepend\",\"type\":\"ios-lock-outline\"},slot:\"prepend\"})],1)],1),_vm._v(\" \"),_c('FormItem',[_c('Button',{attrs:{\"type\":\"primary\",\"size\":\"default\"},on:{\"click\":function($event){return _vm.formLoginSubmit('formUpdateUser')}}},[_vm._v(\"添加\")])],1)],1),_vm._v(\" \"),_c('Table',{attrs:{\"size\":\"small\",\"columns\":_vm.memberManage.columns,\"data\":_vm.memberManage.data}})],1),_vm._v(\" \"),_c('Modal',{attrs:{\"title\":\"人员列表\"},on:{\"on-ok\":_vm.memberSearchOk},model:{value:(_vm.memberSearch.show),callback:function ($$v) {_vm.$set(_vm.memberSearch, \"show\", $$v)},expression:\"memberSearch.show\"}},[[(!_vm.user.group)?_c('Input',{staticStyle:{\"margin-bottom\":\"8px\"},attrs:{\"placeholder\":\"群名称 创建后不可修改\"},model:{value:(_vm.memberSearch.group_name),callback:function ($$v) {_vm.$set(_vm.memberSearch, \"group_name\", $$v)},expression:\"memberSearch.group_name\"}}):_vm._e()],_vm._v(\" \"),_c('Table',{attrs:{\"size\":\"small\",\"columns\":_vm.memberSearch.columns,\"data\":_vm.memberSearch.data},on:{\"on-selection-change\":_vm.memberSearchSelected}})],2),_vm._v(\" \"),_c('Modal',{attrs:{\"footer-hide\":true,\"closable\":false,\"mask-closable\":false,\"width\":\"320\"},model:{value:(_vm.ws_status),callback:function ($$v) {_vm.ws_status=$$v},expression:\"ws_status\"}},[_c('Spin'),_c('span',{staticStyle:{\"color\":\"#ff9900\",\"float\":\"left\",\"margin\":\"-26px 0 0 60px\",\"font-size\":\"15px\"}},[_vm._v(\"服务器连接中...\")])],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-76017ca1\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-76017ca1\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-76017ca1\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"hello\"})}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-9a31622c\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Main.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Main.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Main.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-9a31622c\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Main.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Main.vue\n// module id = null\n// module chunks = ","<template>\n  <div class=\"hello\">\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'Main',\n  data () {\n    return {\n      msg: 'Welcome to Your Vue.js App'\n    }\n  }\n}\n</script>\n\n\n// WEBPACK FOOTER //\n// src/components/Main.vue","import Vue from 'vue'\nimport Router from 'vue-router'\nimport Main from '@/components/Main'\n\nVue.use(Router)\n\nexport default new Router({\n  routes: [\n    {\n      path: '/',\n      name: 'App',\n      component: resolve => require(['@/App'], resolve)\n    },\n\n    {\n      path: '/login',\n      name: 'Login',\n      component: require(['@/components/Login'])\n    },\n\n  ]\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport App from './App'\nimport router from './router'\nimport iView from 'iview';\nimport 'iview/dist/styles/iview.css';\n\nVue.config.productionTip = false\n\nVue.use(iView, {\n  transfer: true,\n  size: 'large',\n  select: {\n      arrow: 'md-arrow-dropdown',\n      arrowSize: 20\n  }\n});\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  router,\n  components: { App },\n  template: '<App/>',\n\n  // computed: {\n  //   abc: function(){\n  //     return require ('./components/Login.vue');\n  //   }\n  // },\n\n  // render (h) {\n  //   return h(this.abc)\n  // }\n})\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","export default {\n    update_user( $v, msg ){\n        if ( !msg.status ) {\n            return $v.$Message.error(msg.msg);\n        }\n\n        $v.$Message.success(msg.msg);\n\n        $v.formLogin.user = '';\n        $v.formLogin.password = '';\n\n        if ( msg.data ) {\n            if ( typeof(msg.data.del) == 1 ) {\n                $v.memberManage.data = $v.memberManage.data.filter(u => u.name != msg.data.name);\n                return;\n            }\n\n            for ( let i in $v.memberManage.data ) {\n                if ( $v.memberManage.data[i].name == msg.data.name ) {\n                    return;\n                }\n            }\n            $v.memberManage.data.push( msg.data );\n        }\n    },\n\n    user_list( $v, msg ) {\n        if ( msg.data.length == 0 ) return;\n\n        if ( typeof(msg.data[0].online) !== 'undefined' ) {\n            $v.allUsersList = msg.data;\n        } else {\n            $v.memberManage.data = msg.data;\n\n            if( typeof($v.user.group) != 'undefined' ) { // 可能是拉人入群操作\n                let searchData = [];\n                if ( $v.user.group ) {\n                    // 群\n                    let members = [];\n                    for ( let i in $v.user.members ) {\n                        members.push($v.user.members[i].name);\n                    }\n                    for ( let i in msg.data) {\n                        if ( members.indexOf( msg.data[i].name ) > -1 ) continue;\n                        searchData.push(msg.data[i]);\n                    }\n                } else {\n                    for ( let i in msg.data ) {\n                        if ( msg.data[i].name == $v.user.name || msg.data[i].name == $v.userInfo.name ) continue;\n\n                        searchData.push(msg.data[i]);\n                    }\n                }\n\n                $v.memberSearch.data = searchData;\n            }\n        }\n    },\n\n    // add_friend( $v, msg ) {\n    //     //$v.usersList.unshit( {'name': msg.from} );\n    // },\n\n    join_group( $v, msg ) {\n        if ( msg.status != 1 ) {\n            return $v.$Message.error(msg.msg);\n        }\n\n        let group = {\n            'name': msg.group_name,\n            'img': '',\n            'unread': 0,\n            'members' : msg.users,\n            'group': true,\n            'content': []\n        };\n\n        if ( msg.create ) {\n            $v.usersList.unshift( group );\n\n            if ( msg.from == $v.userInfo.name ) {\n                if ( $v.userIndex == 0 ) {\n                    $v.userSelected(0);\n                    return;\n                }\n                $v.userIndex = 0;\n            }\n        } else {\n            for ( let i in $v.usersList ) {\n                if ( $v.usersList[i].group && $v.usersList[i].name == msg.group_name ) {\n                    $v.usersList[i].members = msg.users;\n                    return;\n                }\n            }\n\n            $v.usersList.unshift( group );\n        }\n\n        if(msg.from != $v.userInfo.name && typeof($v.user.name) != 'undefined' ) {\n            $v.userIndex += 1;\n        }\n    },\n\n    passwd( $v, msg ) {\n        if ( !msg.status ) {\n            return $v.$Message.error(msg.msg);\n        }\n\n        $v.$Message.success(msg.msg);\n        $v.formPasswd.show = false;\n        $v.formPasswd.passwd = '';\n        $v.formPasswd.passwd2 = '';\n    },\n\n    warn( $v, msg ) {\n        $v.$Message.error(msg.msg);\n\n        switch ( msg.code ) {\n            case 1:\n            sessionStorage.removeItem('user');\n            $v.userInfo = {};\n            $v.ws.close();\n            \n            setTimeout(() => {\n                window.location.reload();\n            }, 3500);\n            break;\n        }\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/wsEvents.js","<template>\n    <div id=\"app\" style=\"background-color: #fff;\">\n        <Row class=\"wrapper\">\n            <Col span=\"7\">\n                <panel-left \n                        v-bind:user-info=\"userInfo\" \n                        v-bind:users-list=\"usersList\" \n                        v-bind:all-users-list=\"allUsersList\"\n                        v-bind:userIndex=\"userIndex\"\n                        @actionLeft = \"actionLeft\"\n                        @allUserSelected = \"allUserSelected\"\n                        @userSelected=\"userSelected\">\n                </panel-left>\n            </Col>\n\n            <Col span=\"17\">\n                <panel-main \n                    v-bind:user=\"user\" \n                    v-bind:userInfo=\"userInfo\"  \n                    @actionMain=\"actionMain\"\n                    @sendMsg=\"sendMsg\">\n                </panel-main>\n            </Col>\n            <!--Col span=\"5\"><panel-right></panel-right></Col-->\n        </Row>\n\n        <Modal v-model=\"Object.keys(userInfo).length === 0\" title=\"请登录\" :closable=\"false\" :mask-closable=\"false\">\n            <Form ref=\"formLogin\" :model=\"formLogin\" :rules=\"formLogin.rule\" inline>\n                <FormItem prop=\"user\">\n                    <Input type=\"text\" v-model=\"formLogin.user\" placeholder=\"Username\">\n                        <Icon type=\"ios-person-outline\" slot=\"prepend\"></Icon>\n                    </Input>\n                </FormItem>\n                <FormItem prop=\"password\">\n                    <Input type=\"password\" v-model=\"formLogin.password\" placeholder=\"Password\">\n                        <Icon type=\"ios-lock-outline\" slot=\"prepend\"></Icon>\n                    </Input>\n                </FormItem>\n            </Form>\n            \n            <div slot=\"footer\">\n                <Button size=\"large\" @click=\"formLoginSubmit('formLogin')\">登录</Button>\n            </div>\n        </Modal>\n\n        <Modal v-model=\"formPasswd.show\" title=\"密码修改\" :closable=\"false\">\n            <Form ref=\"formPasswd\" :model=\"formPasswd\" :rules=\"formPasswd.rule\" inline>\n                <FormItem prop=\"passwd\">\n                    <Input type=\"password\" v-model=\"formPasswd.passwd\" placeholder=\"旧密码\">\n                        <Icon type=\"ios-lock-outline\" slot=\"prepend\"></Icon>\n                    </Input>\n                </FormItem>\n                <FormItem prop=\"passwd2\">\n                    <Input type=\"password\" v-model=\"formPasswd.passwd2\" placeholder=\"新密码\">\n                        <Icon type=\"ios-lock-outline\" slot=\"prepend\"></Icon>\n                    </Input>\n                </FormItem>\n            </Form>\n            \n            <div slot=\"footer\">\n                <Button size=\"large\" @click=\"formLoginSubmit('formPasswd')\">确定</Button>\n            </div>\n        </Modal>\n\n        <Modal v-model=\"memberManage.show\" title=\"人员管理\">\n            <Form ref=\"formUpdateUser\" :model=\"formLogin\" :rules=\"formLogin.rule\" inline>\n                <FormItem prop=\"user\">\n                    <Input type=\"text\" size=\"default\" v-model=\"formLogin.user\" placeholder=\"Username\" style=\"width: 200px;\">\n                        <Icon type=\"ios-person-outline\" slot=\"prepend\"></Icon>\n                    </Input>\n                </FormItem>\n                <FormItem prop=\"password\">\n                    <Input type=\"password\" size=\"default\" v-model=\"formLogin.password\" placeholder=\"Password\" style=\"width: 190px;\">\n                        <Icon type=\"ios-lock-outline\" slot=\"prepend\"></Icon>\n                    </Input>\n                </FormItem>\n\n                <FormItem>\n                    <Button type=\"primary\" size=\"default\" @click=\"formLoginSubmit('formUpdateUser')\">添加</Button>\n                </FormItem>\n            </Form>\n            <Table size=\"small\" :columns=\"memberManage.columns\" :data=\"memberManage.data\"></Table>\n        </Modal>\n\n        <Modal v-model=\"memberSearch.show\" title=\"人员列表\" @on-ok=\"memberSearchOk\">\n            <template>\n                <Input v-if=\"!user.group\" v-model=\"memberSearch.group_name\" placeholder=\"群名称 创建后不可修改\" style=\"margin-bottom: 8px;\" />\n            </template>\n            <Table size=\"small\" :columns=\"memberSearch.columns\" :data=\"memberSearch.data\" @on-selection-change=\"memberSearchSelected\"></Table>\n        </Modal>\n\n        <Modal v-model=\"ws_status\" :footer-hide=\"true\" :closable=\"false\" :mask-closable=\"false\" width=\"320\">\n            <Spin></Spin><span style=\"color: #ff9900; float: left; margin: -26px 0 0 60px; font-size: 15px;\">服务器连接中...</span>\n        </Modal>\n    </div>\n</template>\n\n<script>\nimport PanelLeft from './components/PanelLeft';\nimport PanelMain from './components/PanelMain';\nimport PanelRight from './components/PanelRight';\nimport wsEvents from './wsEvents';\nrequire('./wsEvents.js');\n\nexport default {\n    name: 'App',\n    components: {\n        PanelLeft,\n        PanelMain,\n        PanelRight,\n    },\n\n    methods: {\n        userSelected: function(index){\n            if ( index < 0 || index > this.usersList.length ) {\n                this.user = {};\n                return;\n            }\n            this.user = this.usersList[index];\n\n            // 消息\n            this.ws.send( JSON.stringify({'type': 'msg_list', 'group': this.user.group, 'from': this.user.name, 'to': this.userInfo.name}) );\n\n            if ( this.user.unread > 0 ) {\n                this.ws.send( JSON.stringify({'type': 'mark_read', 'from': this.user.name, 'to': this.userInfo.name}) );\n            }\n\n            this.user.unread = 0;\n        },\n\n        allUserSelected: function(user) {\n            // 在未读消息那里双向加好友了\n            // this.ws.send(JSON.stringify({'type': 'add_friend', 'from': this.userInfo.name, 'to': user.name}));\n         \n            this.usersList.unshift({\n                'name': user.name,\n                'group': false,\n                'unread': 0,\n                'last_time': 9999999999,\n                'content': []\n            });\n            this.user = this.usersList[0];\n        },\n\n        formLoginSubmit(name) {\n            this.$refs[name].validate((valid) => {\n                if (valid) {\n                    switch(name) {\n                        case 'formLogin':\n                            var data = {\n                                'type': 'login',\n                                'name': this.formLogin.user,\n                                'passwd': this.formLogin.password\n                            };\n                            this.ws.send(JSON.stringify(data));\n                        break;\n\n                        case 'formUpdateUser':\n                            var data = {\n                                'type': 'update_user',\n                                'name': this.formLogin.user,\n                                'passwd': this.formLogin.password\n                            };\n                            this.ws.send(JSON.stringify(data));\n                        break;\n\n                        case 'formPasswd':\n                            var data = {\n                                'type': 'passwd',\n                                'passwd': this.formPasswd.passwd,\n                                'passwd2': this.formPasswd.passwd2,\n                                'name': this.userInfo.name\n                            };\n                            this.ws.send(JSON.stringify(data));\n                        break;\n                    }\n                }\n            })\n        },\n\n        wsUpdateUser($data){\n\n        },\n\n        wsMsg( evt ){\n            let msg = eval('('+ evt.data +')');\n            switch ( msg.type ) {\n                case 'login':\n                    if ( !msg.status ) {\n                        return this.$Message.error(msg.msg);\n                    }\n\n                    this.$Message.success(msg.msg);\n\n                    this.formLogin.user = '';\n                    this.formLogin.password = '';\n\n                    let data = msg.data;\n                    delete data.passwd;\n\n                    this.userInfo = data;\n                    sessionStorage.setItem('user', JSON.stringify(data));\n\n                    this.afterLogin();\n                break;\n\n                case 'friend_list':\n                    for ( let i in msg.data ) {\n                        msg.data[i].content = [];\n                    }\n                    this.usersList = msg.data;\n                break;\n\n                case 'msg_list':\n                    this.user.content = msg.data;\n                break;\n\n                case 'txt':\n                case 'img':\n                case 'file':\n                    if ( msg.from != this.userInfo.name ) {\n                        // 收信人\n                        if( msg.to.indexOf('@') === 0 ) {\n                            if ( msg.to.substr(1) != this.user.name ) {\n                                for ( let i in this.usersList ) {\n                                    if ( this.usersList[i].group && this.usersList[i].name == msg.to.substr(1) ) {\n                                        this.usersList[i].unread ++;\n\n                                        let _top = this.usersList[i];\n                                        this.usersList.splice(i, 1);\n                                        this.usersList.unshift(_top);\n\n                                        if ( this.userIndex >= 0 && this.userIndex < i ) {\n                                            this.userIndex += 1;\n                                        }\n                                        break;\n                                    }\n                                }\n                            } else {\n                                this.user.content.push( msg );\n                            }\n                        } else {\n                            // 用户消息\n                            if ( msg.new_chat == 1 ) {\n                                this.usersList.unshift({\n                                    'name': msg.from,\n                                    'img': '',\n                                    'group': false,\n                                    'unread': 1,\n                                    'last_time': msg.time,\n                                    'content': []\n                                });\n                                if ( typeof(this.user.name) != 'undefined' ) {\n                                    this.userIndex += 1;\n                                }\n                            }else if ( msg.from != this.user.name ) {\n                                for ( let i in this.usersList ) {\n                                    if ( this.usersList[i].name == msg.from ) {\n                                        this.usersList[i].unread ++;\n                                        this.usersList[i].last_time = msg.time;\n\n                                        let _top = this.usersList[i];\n                                        this.usersList.splice(i, 1);\n                                        this.usersList.unshift(_top);\n\n                                        if ( this.userIndex >= 0 && this.userIndex < i ) {\n                                            this.userIndex += 1;\n                                        }\n                                        break;\n                                    }\n                                }\n                            } else {\n                                this.user.last_time = msg.time;\n                                this.user.content.push( msg );\n                            }\n                        }\n                    } else if ( this.user.name == msg.to || this.user.name == msg.to.substr(1) ) {\n                        this.user.last_time = msg.time;\n                        this.user.content.push( msg );\n                    }\n                break;\n\n                default:\n                    if ( typeof( wsEvents[msg.type] ) == 'function' ) {\n                        wsEvents[msg.type]( this, msg );\n                    }\n                break;\n            }\n        },\n\n        sendMsg (msg, ext) {\n            let data = {\n                'type': 'txt',\n                'from': this.userInfo.name,\n                'to': this.user.name,\n                'msg': msg,\n                'name': this.userInfo.name,\n                //'img': '',\n            };\n\n            // setInterval(()=>{\n            //     this.ws.send(JSON.stringify(data));\n            // }, 1200);\n\n            switch ( ext.type ) {\n                case 'txt':\n\n                break;\n\n                case 'img':\n                    data.type = 'img';\n                break;\n\n                case 'file':\n                    data.type = 'file';\n                    data.filename = ext.name;\n                break;\n            }\n\n            \n            if ( this.user.group ) data.to = '@'+ data.to;\n            this.ws.send(JSON.stringify(data));\n        },\n\n        actionLeft(act, data){\n            switch ( act ) {\n                case 'memberManage':\n                    this.ws.send(JSON.stringify({'type': 'user_list'}));\n                    this.memberManage.show = true;\n                break;\n\n                case 'passwd':\n                    this.formPasswd.show = true;\n                break;\n\n                case 'userIndex':\n                    this.userIndex = data;\n                break;\n            }\n        },\n\n        afterLogin(){\n            this.ws.send(JSON.stringify({'type': 'friend_list'}));\n\n            setTimeout(() => {\n                this.ws.send(JSON.stringify({'type': 'user_list', 'online': 1}));\n            }, 500);\n        },\n\n        connectWs(){\n            let vthis = this;\n            if ( this.wsStatus == -1 ) {\n                this.ws = new WebSocket(wsUrl);\n                this.ws.onopen = function() {\n                    vthis.wsStatus = 10;\n\n                    if ( Object.keys(vthis.userInfo).length > 0 ) {\n                        let data = {\n                            'type': 'login',\n                            'name': vthis.userInfo.name,\n                        };\n                        vthis.ws.send(JSON.stringify(data));\n\n                        setTimeout(() => {\n                            vthis.afterLogin();\n                        }, 500);\n                    }\n                };\n                this.ws.onmessage = this.wsMsg;\n                this.ws.onclose = function() { \n                    console.debug('onclose...');\n                    vthis.wsStatus = -1;\n                };\n            }\n            \n            setTimeout(this.connectWs, 3000);\n        },\n\n        actionMain(event, data) {\n            switch ( event ) {\n                case 'memberSearch':\n                    this.ws.send(JSON.stringify({'type': 'user_list'}));\n                    this.memberSearch.show = true;\n                break;\n\n                case 'delConversation':\n                    if ( this.user.group ) {\n                        this.ws.send(JSON.stringify({\n                            'type': 'leave_group', \n                            'from': this.userInfo.name,\n                            'group_name': this.user.name\n                        }));\n                    } else {\n                        this.ws.send(JSON.stringify({\n                            'type': 'del_friend', \n                            'from': this.userInfo.name,\n                            'name': this.user.name\n                        }));\n                    }\n\n                    this.usersList.splice(this.userIndex, 1);\n                    this.userIndex = -1;\n                break;\n            }\n        },\n\n\n        memberSearchSelected(selection) {\n            this.memberSearch.selected = [];\n            for ( var i in selection ) {\n                this.memberSearch.selected.push(selection[i].name);\n            }\n        },\n\n        memberSearchOk() {\n            if ( this.memberSearch.selected.length == 0 ) return ;\n\n            let group_name = '';\n            let create = true;\n            if ( this.user.group ) {\n                group_name = this.user.name;\n                create = false;\n            } else {\n                if ( this.memberSearch.group_name == '' ) {\n                    this.$Message.error('请填写群名称!');\n                    return; \n                }\n\n                this.memberSearch.selected.push(this.user.name);\n                this.memberSearch.selected.push(this.userInfo.name);\n                \n                group_name = this.memberSearch.group_name; //this.memberSearch.selected.slice(0,2).join(',') + new Date().getTime();\n\n                this.memberSearch.group_name = '';\n            }\n\n            let data = {\n                'type': 'join_group', \n                'create': create,\n                'from': this.userInfo.name,\n                'group_name': group_name, \n                'users': this.memberSearch.selected\n            };\n            this.ws.send(JSON.stringify(data));\n        },\n    },\n\n    created () {\n        let vthis = this;\n\n        var user = sessionStorage.getItem('user');\n        if ( user != null ) {\n            this.userInfo = eval('('+ user +')');\n        }\n\n        // wsStatus : -1 断开 0 - 9 连接中 10 连接上\n        this.connectWs();\n        \n        /*\n        if ( Object.keys(this.userInfo).length === 0 ) {\n            this.$router.push(\"/login\");\n            return;\n        }\n        */\n\n        setInterval(()=>{\n            let m1 = '【新消息】';\n            let m2 = '【　　　】';\n\n            if ( this.notification.title == '' ) {\n                this.notification.title = document.querySelector('title').innerHTML;\n            }\n\n            let unread = this.usersList.filter(u => u.unread > 0);\n\n            if ( unread.length == 0 ) {\n                document.querySelector('title').innerHTML = this.notification.title;\n                return;\n            }\n\n            if ( this.notification.trigger ) {\n                document.querySelector('title').innerHTML = m1 + ' - '+ this.notification.title;\n                this.notification.trigger = false;\n            } else {\n                document.querySelector('title').innerHTML = m2 + ' - '+ this.notification.title;\n                this.notification.trigger = true;\n            }\n        }, 500);\n    },\n\n    watch: {\n    },\n\n    computed: {\n        ws_status: function () {\n            return this.wsStatus != 10 ? true : false;\n        }\n    },\n\n    data() {\n        return {\n            ws: '',\n            wsStatus: -1,\n\n            formLogin: {\n                user: '',\n                password: '',\n\n                rule: {\n                    user : [\n                        { required: true, message: '请填写用户名', trigger: 'blur' }\n                    ],\n\n                    password: [\n                        { required: true, message: '请填写密码', trigger: 'blur' },\n                        { type: 'string', min: 6, message: '密码最少6位', trigger: 'blur' }\n                    ]\n                }\n            },\n\n            formPasswd: {\n                show: false,\n                passwd: '',\n                passwd2: '',\n\n                rule: {\n                    passwd : [\n                        { required: true, message: '请填写旧密码', trigger: 'blur' },\n                    ],\n\n                    passwd2: [\n                        { required: true, message: '请填写新密码', trigger: 'blur' },\n                        { type: 'string', min: 6, message: '密码最少6位', trigger: 'blur' }\n                    ]\n                }\n            },\n\n            userInfo: {\n\n            },\n\n            allUsersList:[],\n            usersList: [\n                /*\n                {\n                    id: 1,\n                    group: true,\n                    members: [\n                        {\n                            name: '前端群',\n                            img: '//tva4.sinaimg.cn/crop.0.1.1125.1125.180/475bb144jw8f9nwebnuhkj20v90vbwh9.jpg',\n                        }\n                    ],\n                    name: '小明',\n                    img: '//tva4.sinaimg.cn/crop.0.1.1125.1125.180/475bb144jw8f9nwebnuhkj20v90vbwh9.jpg',\n                    unread: 0,\n                    content: [\n                        {\n                            type: 'txt', // img file\n                            uid: 1,\n                            to: '123',\n                            msg: 'ssssss',\n                            name: '小明',\n                            img: '//tva4.sinaimg.cn/crop.0.1.1125.1125.180/475bb144jw8f9nwebnuhkj20v90vbwh9.jpg',\n                            time: 1234567890\n                        }\n                    ]\n                },\n\n                {\n                    id: 2,\n                    group: false,\n                    num: 0,\n                    name: '小李',\n                    img: '//tva1.sinaimg.cn/crop.0.0.118.118.180/5db11ff4gw1e77d3nqrv8j203b03cweg.jpg',\n                    unread: 3,\n                    content: [\n                        {\n                            type: 'txt', // img file\n                            uid: 1,\n                            to: '2',\n                            msg: 'ssssss',\n                            name: '小明',\n                            img: '//tva4.sinaimg.cn/crop.0.1.1125.1125.180/475bb144jw8f9nwebnuhkj20v90vbwh9.jpg',\n                            time: 1234567890\n                        },\n\n                        {\n                            type: 'img', // img file\n                            uid: 2,\n                            to: '1',\n                            msg: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQSdvjrryBoc_rdovfcwNgVuGRG8qqWA-BJ2Ti_TKc3wLzR_2mt',\n                            name: '小李',\n                            img: '//tva1.sinaimg.cn/crop.0.0.118.118.180/5db11ff4gw1e77d3nqrv8j203b03cweg.jpg',\n                            time: 1234567890\n                        },\n\n                        {\n                            type: 'file', // img file\n                            uid: 2,\n                            to: '1',\n                            filename: '好文件',\n                            msg: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQSdvjrryBoc_rdovfcwNgVuGRG8qqWA-BJ2Ti_TKc3wLzR_2mt',\n                            name: '小李',\n                            img: '//tva1.sinaimg.cn/crop.0.0.118.118.180/5db11ff4gw1e77d3nqrv8j203b03cweg.jpg',\n                            time: 1234567890\n                        },\n                    ]\n                }\n                */\n            ],\n\n            user: {},\n            userIndex: -1,\n\n            memberManage: {\n                show: false,\n                columns: [\n                    {'title': '用户名', 'key': 'name'}, \n                    {'title': '操作', 'key': 'act',\n                    render: (h, params) => {\n                            return h('div', [\n                                /*\n                                h('Button', {\n                                    props: {\n                                        type: 'error',\n                                        size: 'small'\n                                    },\n                                    on: {\n                                        click: () => {\n                                            this.ws.send( JSON.stringify({'type': 'update_user', 'name':params.row.name, 'del': 1}) );\n                                        }\n                                    }\n                                }, '删除'),\n                                */\n\n                                h('Button', {\n                                    style: {\n                                        marginLeft: '5px'\n                                    },\n                                    props: {\n                                        type: 'error',\n                                        size: 'small'\n                                    },\n                                    on: {\n                                        click: () => {\n                                            \n                                            this.formLogin.user = params.row.name;\n                                        }\n                                    }\n                                }, '密码修改'),\n                            ]);\n                        }\n                    }\n                ],\n                data: [\n                    {'name': 'loading...'}\n                ]\n            },\n\n            memberSearch: {\n                show: false,\n                columns: [\n                    {'type': 'selection', width: 80},\n                    {'title': '用户名', 'key': 'name'}\n                ],\n\n                data: [{'name': 'loading...'}],\n\n                group_name: '',\n                selected: []\n            },\n\n            notification: {\n                trigger: true,\n                title: '',\n            }\n        }\n    }\n}\n</script>\n\n<style>\n.wrapper, .wrapper>.ivu-col{ height: 100%;}\n.wrapper { max-width: 1000px; margin: auto; border: #dcdee2 1px solid;}\n\n\n</style>\n\n\n// WEBPACK FOOTER //\n// src/App.vue"],"sourceRoot":""}